"use strict";(self["webpackChunkoffender"]=self["webpackChunkoffender"]||[]).push([[445],{6445:function(e,s,t){t.r(s),t.d(s,{default:function(){return y}});t(7658);var i=t(6252),o=t(9963),n=t(2262),r=t(3560),a=t(3002),l=t(2201);const d={class:"flex flex-1 flex-col justify-center px-6 py-20"},u=(0,i._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,i._)("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"},"Reset your Password")],-1),m={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},c=["onSubmit"],w={key:0},f=(0,i._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name or Email",-1),p={class:"mt-2"},g=(0,i._)("div",{class:"flex items-center justify-between"},[(0,i._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password")],-1),b={class:"mt-2"},x=["disabled"];var v=(0,i.aZ)({__name:"ResetPassword",setup(e){const s=(0,r.L)(),t=(0,l.yj)(),v=(0,l.tv)(),h=(0,a.pm)(),y=(0,n.qj)({userName:"",password:"",fromAdmin:!1});(0,i.bv)((()=>{const e=t.query.un;e&&(y.userName=e,y.fromAdmin=!0)}));const _=(0,i.Fl)((()=>!(!y.userName||!y.password))),k=async()=>{const e=t.params.token;if(!e)return void h.error("Invalid token");const i=await s.resetPassword(y.userName,y.password,e);i?(y.userName="",y.password="",h.success("Your password has been reset!"),v.push("/login")):h.error("Something went wrong!")};return(e,s)=>((0,i.wg)(),(0,i.iD)("div",d,[u,(0,i._)("div",m,[(0,i._)("form",{class:"space-y-6",onSubmit:(0,o.iM)(k,["prevent"])},[y.fromAdmin?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",w,[f,(0,i._)("div",p,[(0,i.wy)((0,i._)("input",{id:"userName",name:"userName","onUpdate:modelValue":s[0]||(s[0]=e=>y.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[o.nr,y.userName]])])])),(0,i._)("div",null,[g,(0,i._)("div",b,[(0,i.wy)((0,i._)("input",{id:"password",name:"password","onUpdate:modelValue":s[1]||(s[1]=e=>y.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[o.nr,y.password]])])]),(0,i._)("div",null,[(0,i._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!_.value}," Reset ",8,x)])],40,c)])]))}});const h=v;var y=h}}]);