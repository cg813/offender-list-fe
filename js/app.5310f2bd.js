(function(){"use strict";var e={3601:function(e,t,s){var i=s(9963),n=(s(7658),s(6252)),o=s(2201),a=s(3577),r=s(6086),l=s(6154);const d=l.Z.create({baseURL:"https://batch.offenderlist.us/api/v1"});const c=({url:e},t)=>{"start"===t?0:"end"===t&&0};d.interceptors.request.use((e=>(c(e,"start"),e)),(e=>{const{config:t}=e;return c(t,"end"),Promise.reject(e)})),d.interceptors.response.use((e=>(c(e.config,"end"),e)),(e=>{const{config:t}=e;return c(t,"end"),Promise.reject(e)}));var u=d;const m=()=>{const e=!!localStorage.getItem("_id");return{user:null,authorized:e}},g=(0,r.Q_)({id:"user",state:()=>m(),actions:{async fetchUser(e){try{const t=await u.get(`/users/${e}`);return t.data}catch(t){return console.log(t),null}},async updateUserRequests(e,t){try{const s=await u.put(`/users/${e}`,t);return s.data&&(this.user=s.data),s.data}catch(s){return console.log(s),null}},async login(e,t){try{const s={userName:e,password:t},i=await u.post("/users/login",s);return i.data&&(this.user=i.data,localStorage.setItem("_id",this.user._id),this.authorized=!0),i.data}catch(s){return console.log(s),null}},logout(){localStorage.clear(),this.user=null,this.authorized=!1},async changePassword(e,t,s){try{const i={userName:e,password:t,newPassword:s},n=await u.patch("/users/changePassword",i);return n.data}catch(i){return console.log(i),null}},async resetPasswordEmail(e){try{const t={userName:e},s=await u.patch("/users/resetPasswordEmail",t);return s.data}catch(t){return console.log(t),null}},async resetPassword(e,t,s){try{const i={userName:e,password:t,token:s},n=await u.patch("/users/resetPassword",i);return n.data}catch(i){return console.log(i),null}},async register(e){try{const t=await u.post("/users",e);return t.data}catch(t){return console.log(t),null}},async sendEmail(e){try{const t=await u.post("/emails/send",e);return!!t.data&&!!t.data.success}catch(t){return console.log(t),!1}}}});var p,w,f;(function(e){e["ADMIN"]="admin",e["USER"]="user"})(p||(p={})),function(e){e["MONTH"]="month",e["YEAR"]="year"}(w||(w={})),function(e){e["PLAN_1"]="plan1",e["PLAN_2"]="plan2",e["PLAN_3"]="plan3",e["PLAN_4"]="plan4"}(f||(f={}));const b=e=>((0,n.dD)("data-v-1178bc47"),e=e(),(0,n.Cn)(),e),h={class:"header mx-auto"},x={key:0,class:"mx-auto h-full w-auto",src:"img/logo.png",alt:"Logo"},v={class:"flex space-x-8"},y=b((()=>(0,n._)("span",{class:"text-lg text-indigo-400"},"Detection",-1))),_=[y],k=b((()=>(0,n._)("span",{class:"text-lg text-indigo-400"},"Register",-1))),N=[k],S=b((()=>(0,n._)("span",{class:"text-lg text-indigo-400"},"Settings",-1))),P=[S],q=b((()=>(0,n._)("span",{class:"text-lg text-indigo-400"},"Log out",-1))),U=[q];var j=(0,n.aZ)({__name:"Header",setup(e){const t=g(),s=(0,o.tv)(),i=(0,n.Fl)((()=>t.authorized)),r=(0,n.Fl)((()=>t.user?.role===p.ADMIN)),l=()=>{t.logout(),s.push("/login")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",h,[(0,n._)("div",{class:"h-10 flex items-center cursor-pointer mr-12 md:mr-28",onClick:t[0]||(t[0]=t=>e.$router.push("/detect"))},[i.value?((0,n.wg)(),(0,n.iD)("img",x)):(0,n.kq)("",!0)]),(0,n._)("div",v,[i.value?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,a.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("detect")}]),onClick:t[1]||(t[1]=t=>e.$router.push("/detech"))},_,2)):(0,n.kq)("",!0),i.value&&r.value?((0,n.wg)(),(0,n.iD)("div",{key:1,class:(0,a.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("register")}]),onClick:t[2]||(t[2]=t=>e.$router.push("/register"))},N,2)):(0,n.kq)("",!0),i.value?((0,n.wg)(),(0,n.iD)("div",{key:2,class:(0,a.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("profile")}]),onClick:t[3]||(t[3]=t=>e.$router.push("/profile"))},P,2)):(0,n.kq)("",!0),i.value?((0,n.wg)(),(0,n.iD)("div",{key:3,class:"flex items-center cursor-pointer border-b-2 border-transparent",onClick:l},U)):(0,n.kq)("",!0)])])]))}}),D=s(3744);const L=(0,D.Z)(j,[["__scopeId","data-v-1178bc47"]]);var R=L;const O={class:"h-full"},C={class:"sticky-header pb-4 bg-gray-900"},$={class:""};var E=(0,n.aZ)({__name:"App",setup(e){const t=(0,o.tv)(),s=g(),i=async()=>{if(!s.authorized&&!t.currentRoute.value.path.includes("reset-password"))return void t.push("/login");const e=localStorage.getItem("_id");if(e&&!s.user){const i=await s.fetchUser(e);i?s.user=i:(localStorage.clear(),s.authorized=!1,t.push("/login"))}};return setTimeout((()=>i()),0),(e,t)=>{const s=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",O,[(0,n._)("div",C,[(0,n.Wm)(R)]),(0,n._)("div",$,[(0,n.Wm)(s)])])}}});const A=E;var M=A;const F=(0,r.WB)();s(6229),s(7330),s(2062);var z=s(2262),T=s(4105);const I=l.Z.create({baseURL:"https://api.offenderlist.us"});const V=({url:e},t)=>{"start"===t?0:"end"===t&&0};I.interceptors.request.use((e=>{V(e,"start");const t="022971ce-dab5-4e72-8d9c-071e991a3dc6";return t&&(e.headers.Authorization=`Basic ${t}`),e}),(e=>{const{config:t}=e;return V(t,"end"),Promise.reject(e)})),I.interceptors.response.use((e=>(V(e.config,"end"),e)),(e=>{const{config:t}=e;return V(t,"end"),Promise.reject(e)}));var Z=I;const H=()=>({}),Y=(0,r.Q_)({id:"offenderList",state:()=>H(),actions:{async getOffenders(e,t,s,i,n){try{const o=await Z.get(`/offenders?dob=${s}&first_name=${e}&last_name=${t}&state=${i}&zip_code=${n}`);return o.data}catch(o){return console.log(o),[]}}}});var B=s(3002),W=s(2956);const X=e=>{let t="";for(let s=0;s<e.length;s++){const i=e[s];let n="";for(const e in i)""!==n&&(n+=","),n+=i[e];t+=n+"\r\n"}return t},G="info@offenderlist.us",K=[{id:f.PLAN_1,requests:500,frequency:w.YEAR},{id:f.PLAN_2,requests:1e5,frequency:w.YEAR},{id:f.PLAN_3,requests:5e4,frequency:w.MONTH},{id:f.PLAN_4,requests:1e5,frequency:w.MONTH}],J=e=>!(!e[0]||!e[1])&&!!(e[2]||e[3]||e[4]),Q=e=>((0,n.dD)("data-v-44517738"),e=e(),(0,n.Cn)(),e),ee={class:"dashboard mx-auto m-4"},te={class:"my-32"},se=Q((()=>(0,n._)("h2",{class:"text-center font-bold text-white text-2xl"},"Find Offender",-1))),ie={class:"mt-8 text-center text-lg text-white font-thin"},ne={class:"mt-4 mx-auto max-w-2xl"},oe=Q((()=>(0,n._)("label",{for:"cover-photo",class:"block text-sm font-medium leading-6 text-gray-900"},"Cover photo",-1))),ae={class:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10"},re={key:0,class:"text-center"},le={class:"my-4 flex leading-6 text-gray-600"},de={for:"file-upload",class:"relative w-full cursor-pointer rounded-md text-indigo-600 hover:text-indigo-500"},ce=Q((()=>(0,n._)("span",{class:"text-lg"},"Upload a file",-1))),ue=Q((()=>(0,n._)("span",{class:"text-xs leading-5 text-gray-600 ml-2"},"(XLSX)",-1))),me=Q((()=>(0,n._)("a",{class:"text-sm text-indigo-600 hover:text-indigo-500 cursor-pointer",href:"Input- example.xlsx"}," Download template ",-1))),ge={key:1,class:"text-white"},pe={key:0,class:"mt-10 flex flex-col items-center"},we={class:"text-white text-sm text-center mb-8"},fe=Q((()=>(0,n._)("p",{class:"mb-4 text-sm text-center text-white"},"Return result as:",-1))),be={class:"space-y-4 sm:flex sm:items-center sm:space-x-10 sm:space-y-0 mb-8"},he={class:"flex items-center"},xe=["checked"],ve=Q((()=>(0,n._)("label",{for:"xlsx",class:"ml-3 block text-sm font-medium leading-6 text-white"},"XLSX File",-1))),ye={class:"flex items-center"},_e=["checked"],ke=Q((()=>(0,n._)("label",{for:"csv",class:"ml-3 block text-sm font-medium leading-6 text-white"},"CSV File",-1))),Ne={key:1,style:{"border-top-color":"transparent"},class:"w-5 h-5 mt-3 border-4 mx-auto border-blue-400 border-solid rounded-full animate-spin"};var Se=(0,n.aZ)({__name:"Home",setup(e){const t=g(),s=Y(),o=(0,B.pm)(),r=(0,z.qj)({fileName:null,header:[],list:[],isLoading:!1,downloadFile:"xlsx"}),l=(0,n.Fl)((()=>t.user?`Your account has ${t.user.availableRequests} rows available for processing.`:"")),d=e=>{const t=e.split(/\r\n|\n/),s=[];for(let i=0;i<t.length;i++){const e=t[i].split(/,(?![^"]*"(?:(?:[^"]*"){2})*[^"]*$)/);let n=[];for(let t=0;t<e.length;t++){let s=e[t];s.length>0&&('"'==s[0]&&(s=s.substring(1,s.length-1)),'"'==s[s.length-1]&&(s=s.substring(s.length-2,0)),s=s.replaceAll('""','"')),n.push(s)}Object.values(n).filter((e=>e)).length>0&&(0===i?(n.push("Match"),n.push("Details"),r.header=n):s.push(n))}r.list=s},c=async e=>{const t=e.target.files[0];if(!t)return;r.fileName=t.name;const s=t.name.split("."),i=s.pop()?.toLowerCase();if(!i||"xlsx"!==i)return void o.error("Invalid file format. Must be xlsx file.");const n=new FileReader;n.onload=e=>{const t=e.target.result,s=T.ij(t,{type:"binary"}),i=s.SheetNames[0],n=s.Sheets[i],o=T.P6.sheet_to_csv(n);d(o)},n.readAsBinaryString(t)},u=()=>{r.fileName=null,r.header=[],r.list=[],r.isLoading=!1},m=()=>{const e=T.P6.book_new();e.Props={Title:"Offender Detection",Subject:"Offender",Author:"OffenderList",CreatedDate:new Date},e.SheetNames.push("Sheet1");const t=[r.header,...r.list],s=T.P6.aoa_to_sheet(t);e.Sheets["Sheet1"]=s;const i={bookType:"xlsx",bookSST:!1,type:"array"},n=T.cW(e,i),o=new Blob([n],{type:"application/octet-stream"}),a=document.createElement("a");a.href=window.URL.createObjectURL(o);const l=(new Date).toISOString();a.download=`Result-${l}.xlsx`,a.click()},p=()=>{const e=X([r.header,...r.list]),t=new Blob([e],{type:"text/csv"}),s=document.createElement("a");s.href=URL.createObjectURL(t);const i=(new Date).toISOString();s.download=`Result-${i}.csv`,s.click()},w=async()=>{if(!t.user)return;let e=Math.min(t.user.availableRequests,r.list.length);if(e<1)return o.info("No available rows. please update your plan."),void u();try{r.isLoading=!0;const i=r.list.slice(0,e),n=[],a=[];for(let e=0;e<i.length;e++){const t=i[e];if(!J(t)){a.push(e);continue}let o="";if(t[2]){const e=t[2]?.split("/");o=`${e[2]}-${e[0]}-${e[1]}`}n.push(s.getOffenders(t[0],t[1],o,t[3],t[4]))}const l=await Promise.all(n),d=[];let c=0;for(let e=0;e<i.length;e++){const t=[...i[e]];if(a.includes(e))t[5]="Incomplete",t[6]="",c+=1;else if(l[e-c]?.length){t[5]=`${l[e-c].length} Potential Matches`;for(let s=0;s<l[e-c].length;s++){const i=l[e-c][s].image;t[6+s]=`${i}\r\n${JSON.stringify(l[e-c][s])}`}}else t[5]="No Match",t[6]="";d.push(t)}r.list=d,r.isLoading=!1,"xlsx"===r.downloadFile?m():p(),u();const g={requests:e};await t.updateUserRequests(t.user._id,g),o.success("Detection finished successfully!")}catch(i){console.log(i),o.error("Something went wrong. please try again later")}};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",ee,[(0,n._)("div",te,[se,(0,n._)("p",ie,(0,a.zw)(l.value),1),(0,n._)("div",ne,[oe,(0,n._)("div",ae,[r.fileName?((0,n.wg)(),(0,n.iD)("div",ge,(0,a.zw)(r.fileName),1)):((0,n.wg)(),(0,n.iD)("div",re,[(0,n.Wm)((0,z.SU)(W.Z),{class:"mx-auto h-12 w-12 text-gray-300","aria-hidden":"true"}),(0,n._)("div",le,[(0,n._)("label",de,[ce,ue,(0,n._)("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",accept:"xlsx",onChange:c},null,32)])]),me]))]),r.fileName&&r.list.length?((0,n.wg)(),(0,n.iD)("div",pe,[r.isLoading?((0,n.wg)(),(0,n.iD)("div",Ne)):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("p",we," You are about to process "+(0,a.zw)(r.list.length)+" rows. ",1),fe,(0,n._)("div",be,[(0,n._)("div",he,[(0,n.wy)((0,n._)("input",{id:"xlsx",name:"result-format",value:"xlsx",type:"radio","onUpdate:modelValue":t[0]||(t[0]=e=>r.downloadFile=e),checked:"xlsx"===r.downloadFile,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,xe),[[i.G2,r.downloadFile]]),ve]),(0,n._)("div",ye,[(0,n.wy)((0,n._)("input",{id:"csv",name:"result-format",value:"csv","onUpdate:modelValue":t[1]||(t[1]=e=>r.downloadFile=e),type:"radio",checked:"csv"===r.downloadFile,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,_e),[[i.G2,r.downloadFile]]),ke])]),(0,n._)("div",{class:"flex space-x-4"},[(0,n._)("button",{type:"button",class:"rounded bg-indigo-500 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",onClick:w}," Start Processing "),(0,n._)("button",{type:"button",class:"w-32 rounded bg-white bg-opacity-10 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-white/20",onClick:u}," Cancel ")])],64))])):(0,n.kq)("",!0)])])]))}});const Pe=(0,D.Z)(Se,[["__scopeId","data-v-44517738"]]);var qe=Pe;const Ue={class:"flex flex-1 flex-col justify-center px-6 py-20"},je=(0,n._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,n._)("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"},"Register a new user")],-1),De={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},Le=["onSubmit"],Re=(0,n._)("label",{for:"userName",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),Oe={class:"mt-2"},Ce=(0,n._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"Email",-1),$e={class:"mt-2"},Ee=(0,n._)("div",{class:""},[(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password")],-1),Ae={class:"mt-2"},Me=(0,n._)("label",{for:"role",class:"block text-sm font-medium leading-6 text-white"},"Role",-1),Fe=["value"],ze=["value"],Te=(0,n._)("label",{for:"plan",class:"block text-sm font-medium leading-6 text-white"},"Plan",-1),Ie=["value"],Ve=["disabled"];var Ze=(0,n.aZ)({__name:"Signup",setup(e){const t=g(),s=(0,o.tv)(),r=(0,B.pm)();(0,n.bv)((()=>{t.user?.role!==p.ADMIN&&s.push("/detect")}));const l=(0,z.qj)({userName:"",email:"",password:"",role:p.USER,plan:K[0].id}),d=(0,n.Fl)((()=>!!(l.userName&&l.email&&l.password))),c=async()=>{const e=K.find((e=>e.id===l.plan));if(!e)return void r.error("Incorrect Plan!");const s={userName:l.userName,email:l.email,password:l.password,role:l.role,plan:l.plan,availableRequests:e.requests},i=await t.register(s);i?(r.success("User added successfully!"),l.userName="",l.password="",l.email=""):r.error("Something went wrong!")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",Ue,[je,(0,n._)("div",De,[(0,n._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(c,["prevent"])},[(0,n._)("div",null,[Re,(0,n._)("div",Oe,[(0,n.wy)((0,n._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>l.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,l.userName]])])]),(0,n._)("div",null,[Ce,(0,n._)("div",$e,[(0,n.wy)((0,n._)("input",{id:"email",name:"email","onUpdate:modelValue":t[1]||(t[1]=e=>l.email=e),type:"email",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,l.email]])])]),(0,n._)("div",null,[Ee,(0,n._)("div",Ae,[(0,n.wy)((0,n._)("input",{id:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=e=>l.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,l.password]])])]),(0,n._)("div",null,[Me,(0,n.wy)((0,n._)("select",{id:"role",name:"role","onUpdate:modelValue":t[3]||(t[3]=e=>l.role=e),class:"capitalize block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},[(0,n._)("option",{value:(0,z.SU)(p).USER,class:"capitalize text-black"},(0,a.zw)((0,z.SU)(p).USER),9,Fe),(0,n._)("option",{value:(0,z.SU)(p).ADMIN,class:"capitalize text-black"},(0,a.zw)((0,z.SU)(p).ADMIN),9,ze)],512),[[i.bM,l.role]])]),(0,n._)("div",null,[Te,(0,n.wy)((0,n._)("select",{id:"plan",name:"plan","onUpdate:modelValue":t[4]||(t[4]=e=>l.plan=e),class:"capitalize block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,z.SU)(K),(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.id,value:e.id,class:"capitalize text-black"},(0,a.zw)(`${e.id}: ${e.requests} requests per ${e.frequency} `),9,Ie)))),128))],512),[[i.bM,l.plan]])]),(0,n._)("div",null,[(0,n._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!d.value}," Register ",8,Ve)])],40,Le)])]))}});const He=Ze;var Ye=He;const Be={class:"flex flex-1 flex-col justify-center px-6 py-20"},We=(0,n._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,n._)("img",{class:"mx-auto h-14 w-auto",src:"img/logo.png",alt:"Logo"})],-1),Xe={class:"mt-20 sm:mx-auto sm:w-full sm:max-w-sm"},Ge=["onSubmit"],Ke=(0,n._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),Je={class:"mt-2"},Qe={class:"flex items-center justify-between"},et=(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password",-1),tt={class:"mt-2"},st=["disabled"];var it=(0,n.aZ)({__name:"Login",setup(e){const t=g(),s=(0,o.tv)(),a=(0,B.pm)(),r=(0,z.qj)({userName:"",password:""}),l=(0,n.Fl)((()=>!(!r.userName||!r.password))),d=async()=>{const e=await t.login(r.userName,r.password);e?(r.userName="",r.password="",s.push("/")):a.error("Something went wrong!")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",Be,[We,(0,n._)("div",Xe,[(0,n._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(d,["prevent"])},[(0,n._)("div",null,[Ke,(0,n._)("div",Je,[(0,n.wy)((0,n._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>r.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,r.userName]])])]),(0,n._)("div",null,[(0,n._)("div",Qe,[et,(0,n._)("div",{class:"text-xs text-indigo-400 hover:text-indigo-300 cursor-pointer",onClick:t[1]||(t[1]=e=>(0,z.SU)(s).push("/reset-password-email"))}," Forgot password? ")]),(0,n._)("div",tt,[(0,n.wy)((0,n._)("input",{id:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=e=>r.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,r.password]])])]),(0,n._)("div",null,[(0,n._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!l.value}," Sign in ",8,st)])],40,Ge)])]))}});const nt=it;var ot=nt,at=s(5076),rt=s(829);const lt={class:"w-full max-w-lg py-20"},dt=(0,n._)("div",{class:""},[(0,n._)("h2",{class:"text-2xl font-bold leading-9 tracking-tight text-white text-center"},"Change Your Password")],-1),ct={class:"mt-10"},ut=["onSubmit"],mt=(0,n._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),gt={class:"mt-2"},pt=(0,n._)("div",{class:"flex items-center justify-between"},[(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Current Password")],-1),wt={class:"mt-2"},ft=(0,n._)("div",{class:"flex items-center justify-between"},[(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"New Password")],-1),bt={class:"mt-2"},ht=["disabled"];var xt=(0,n.aZ)({__name:"Account",setup(e){const t=g(),s=(0,B.pm)(),o=(0,z.qj)({userName:"",password:"",newPassword:""}),a=(0,n.Fl)((()=>!!(o.userName&&o.password&&o.newPassword))),r=async()=>{const e=await t.changePassword(o.userName,o.password,o.newPassword);e?(o.userName="",o.password="",o.newPassword="",s.success("Password is updated successfully!")):s.error("Something went wrong!")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",lt,[dt,(0,n._)("div",ct,[(0,n._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(r,["prevent"])},[(0,n._)("div",null,[mt,(0,n._)("div",gt,[(0,n.wy)((0,n._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>o.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,o.userName]])])]),(0,n._)("div",null,[pt,(0,n._)("div",wt,[(0,n.wy)((0,n._)("input",{id:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,o.password]])])]),(0,n._)("div",null,[ft,(0,n._)("div",bt,[(0,n.wy)((0,n._)("input",{id:"new_password",name:"new_password","onUpdate:modelValue":t[2]||(t[2]=e=>o.newPassword=e),type:"password",autocomplete:"new-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,o.newPassword]])])]),(0,n._)("div",null,[(0,n._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!a.value}," Confirm ",8,ht)])],40,ut)])]))}});const vt=xt;var yt=vt;const _t={class:"w-full max-w-lg py-20"},kt=(0,n._)("div",{class:""},[(0,n._)("h2",{class:"text-2xl font-bold leading-9 tracking-tight text-white text-center"},"Send Email to Admin")],-1),Nt={class:"mt-10"},St=["onSubmit"],Pt=(0,n._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"Email",-1),qt={class:"mt-2"},Ut=(0,n._)("label",{for:"comment",class:"block text-sm font-medium leading-6 text-white"},"Comment",-1),jt={class:"mt-2"},Dt=["disabled"];var Lt=(0,n.aZ)({__name:"Support",setup(e){const t=g(),s=(0,B.pm)(),o=(0,z.qj)({email:"",comment:""}),a=(0,n.Fl)((()=>!(!o.email||!o.comment))),r=async()=>{const e={to:G,subject:"Support",text:`Hi,\r\n\n A user with email: ${o.email} want your support. \r\n${o.comment}`},i=await t.sendEmail(e);i?(s.success("Email sent successfully!"),o.email="",o.comment=""):s.error("Something went wrong")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",_t,[kt,(0,n._)("div",Nt,[(0,n._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(r,["prevent"])},[(0,n._)("div",null,[Pt,(0,n._)("div",qt,[(0,n.wy)((0,n._)("input",{id:"email",name:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,o.email]])])]),(0,n._)("div",null,[Ut,(0,n._)("div",jt,[(0,n.wy)((0,n._)("textarea",{id:"comment",name:"comment","onUpdate:modelValue":t[1]||(t[1]=e=>o.comment=e),rows:"4",class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,o.comment]])])]),(0,n._)("div",null,[(0,n._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!a.value}," Send ",8,Dt)])],40,St)])]))}});const Rt=Lt;var Ot=Rt;const Ct=e=>((0,n.dD)("data-v-42b6846e"),e=e(),(0,n.Cn)(),e),$t={class:"dashboard mx-auto mt-12"},Et={class:"sm:hidden"},At=Ct((()=>(0,n._)("label",{for:"tabs",class:"sr-only"},"Select a tab",-1))),Mt={id:"tabs",name:"tabs",class:"block w-full rounded-md border-none bg-white bg-opacity-5 py-2 pl-3 pr-10 text-base text-white shadow-sm ring-1 ring-inset ring-white ring-opacity-10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm"},Ft=["selected"],zt={class:"hidden sm:block"},Tt={class:"flex border-b border-white border-opacity-10"},It={role:"list",class:"flex min-w-full flex-none gap-x-6 text-sm font-semibold leading-6 text-gray-400"},Vt=["onClick"],Zt={class:"flex justify-center"};var Ht=(0,n.aZ)({__name:"Profile",setup(e){const t=(0,z.qj)({tabs:[{name:"My Account",id:"account",icon:at.Z},{name:"Support",id:"support",icon:rt.Z}],currentTab:"account"}),s=e=>{t.currentTab=e};return(e,i)=>((0,n.wg)(),(0,n.iD)("div",$t,[(0,n._)("div",Et,[At,(0,n._)("select",Mt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.tabs,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.name,selected:e.id===t.currentTab},(0,a.zw)(e.name),9,Ft)))),128))])]),(0,n._)("div",zt,[(0,n._)("nav",Tt,[(0,n._)("ul",It,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.tabs,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.id,class:(0,a.C_)([[e.id===t.currentTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","group inline-flex items-center border-b-2 py-4 px-1 text-sm font-medium"],"flex cursor-pointer"]),onClick:t=>s(e.id)},[((0,n.wg)(),(0,n.j4)((0,n.LL)(e.icon),{class:(0,a.C_)([e.id===t.currentTab?"text-indigo-500":"text-gray-400 group-hover:text-gray-500","-ml-0.5 mr-2 h-5 w-5"]),"aria-hidden":"true"},null,8,["class"])),(0,n._)("span",{class:(0,a.C_)(e.id===t.currentTab?"text-indigo-400":"")},(0,a.zw)(e.name),3)],10,Vt)))),128))])])]),(0,n._)("div",Zt,["account"===t.currentTab?((0,n.wg)(),(0,n.j4)(yt,{key:0})):(0,n.kq)("",!0),"support"===t.currentTab?((0,n.wg)(),(0,n.j4)(Ot,{key:1})):(0,n.kq)("",!0)])]))}});const Yt=(0,D.Z)(Ht,[["__scopeId","data-v-42b6846e"]]);var Bt=Yt;const Wt={class:"flex flex-1 flex-col justify-center px-6 py-20"},Xt=(0,n._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,n._)("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"},"Reset your Password")],-1),Gt={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},Kt=["onSubmit"],Jt=(0,n._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),Qt={class:"mt-2"},es=(0,n._)("div",{class:"flex items-center justify-between"},[(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password")],-1),ts={class:"mt-2"},ss=["disabled"];var is=(0,n.aZ)({__name:"ResetPassword",setup(e){const t=g(),s=(0,o.yj)(),a=(0,B.pm)(),r=(0,z.qj)({userName:"",password:""}),l=(0,n.Fl)((()=>!(!r.userName||!r.password))),d=async()=>{const e=s.params.token;if(!e)return void a.error("Invalid token");const i=await t.resetPassword(r.userName,r.password,e);i?(r.userName="",r.password=""):a.error("Something went wrong!")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",Wt,[Xt,(0,n._)("div",Gt,[(0,n._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(d,["prevent"])},[(0,n._)("div",null,[Jt,(0,n._)("div",Qt,[(0,n.wy)((0,n._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>r.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,r.userName]])])]),(0,n._)("div",null,[es,(0,n._)("div",ts,[(0,n.wy)((0,n._)("input",{id:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,r.password]])])]),(0,n._)("div",null,[(0,n._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!l.value}," Reset ",8,ss)])],40,Kt)])]))}});const ns=is;var os=ns;const as={class:"flex flex-1 flex-col justify-center px-6 py-20"},rs=(0,n._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,n._)("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"},"Send Email to Reset your Password ")],-1),ls={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},ds=["onSubmit"],cs=(0,n._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),us={class:"mt-2"},ms=["disabled"];var gs=(0,n.aZ)({__name:"ResetPasswordEmail",setup(e){const t=g(),s=(0,B.pm)(),o=(0,z.qj)({userName:"",send:!1,isLoading:!1}),r=(0,n.Fl)((()=>!(!o.userName||o.isLoading))),l=async()=>{o.isLoading=!0;const e=await t.resetPasswordEmail(o.userName);e?o.send=!0:s.error("Something went wrong!"),o.isLoading=!1};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",as,[rs,(0,n._)("div",ls,[(0,n._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(l,["prevent"])},[(0,n._)("div",null,[cs,(0,n._)("div",us,[(0,n.wy)((0,n._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>o.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,o.userName]])])]),(0,n._)("div",null,[(0,n._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!r.value},(0,a.zw)(o.send?"Resend":"Send Email"),9,ms)])],40,ds)])]))}});const ps=gs;var ws=ps;const fs=[{path:"/detect",component:qe},{path:"/login",component:ot},{path:"/register",component:Ye},{path:"/profile",component:Bt},{path:"/reset-password-email",component:ws},{path:"/reset-password/:token",component:os},{path:"/:pathMatch(.*)*",redirect:"/detect"}],bs=(0,o.p7)({history:(0,o.PO)(),routes:fs});var hs=s(1421);s(343);const xs=(0,i.ri)(M).use(F).use(bs).use((0,hs.Jt)()).use(B.ZP,{position:B.Vr.BOTTOM_RIGHT,closeOnClick:!1});xs.directive("click-outside",{beforeMount(e,t){e.clickOutsideEvent=function(s){e===s.target||e.contains(s.target)||t.value(s,e)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}),xs.mount("#app")}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,i,n,o){if(!i){var a=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],o=e[c][2];for(var r=!0,l=0;l<i.length;l++)(!1&o||a>=o)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(r=!1,o<a&&(a=o));if(r){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[i,n,o]}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,o,a=i[0],r=i[1],l=i[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var c=l(s)}for(t&&t(i);d<a.length;d++)o=a[d],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(c)},i=self["webpackChunkoffender"]=self["webpackChunkoffender"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(3601)}));i=s.O(i)})();