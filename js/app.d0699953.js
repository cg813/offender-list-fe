(function(){var e={6700:function(e,t,s){var i={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":941,"./en-il.js":941,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function n(e){var t=a(e);return s(t)}function a(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=a,e.exports=n,n.id=6700},773:function(e,t,s){"use strict";var i=s(9963),n=(s(7658),s(6252)),a=s(2201),o=s(3577),r=s(6086),l=s(6154);const d=l.Z.create({baseURL:"https://batch.offenderlist.us/api/v1"});const c=({url:e},t)=>{"start"===t?0:"end"===t&&0};d.interceptors.request.use((e=>(c(e,"start"),e)),(e=>{const{config:t}=e;return c(t,"end"),Promise.reject(e)})),d.interceptors.response.use((e=>(c(e.config,"end"),e)),(e=>{const{config:t}=e;return c(t,"end"),Promise.reject(e)}));var u=d;const m=()=>{const e=!!localStorage.getItem("_id");return{user:null,userId:localStorage.getItem("_id")||null,authorized:e,isLoading:!1}},p=(0,r.Q_)({id:"user",state:()=>m(),actions:{async fetchUser(e){try{const t=await u.get(`/users/${e}`);return t.data}catch(t){return console.log(t),null}},async fetchAllUser(){try{const e=await u.get("/users");return e.data}catch(e){return console.log(e),[]}},async updateUserRequests(e,t){try{const s=await u.put(`/users/${e}`,t);return s.data&&(this.user=s.data),s.data}catch(s){return console.log(s),null}},async login(e,t){try{const s={userName:e,password:t},i=await u.post("/users/login",s);return i.data&&(this.user=i.data,localStorage.setItem("_id",this.user._id),this.authorized=!0),i.data}catch(s){return console.log(s),null}},logout(){localStorage.clear(),this.user=null,this.authorized=!1},async changePassword(e,t,s){try{const i={userName:e,password:t,newPassword:s},n=await u.patch("/users/changePassword",i);return n.data}catch(i){return console.log(i),null}},async resetPasswordEmail(e,t=!1){try{const s={userName:e,isAdmin:t},i=await u.patch("/users/resetPasswordEmail",s);return i.data}catch(s){return console.log(s),null}},async resetPassword(e,t,s){try{const i={userName:e,password:t,token:s},n=await u.patch("/users/resetPassword",i);return n.data}catch(i){return console.log(i),null}},async register(e){try{const t=await u.post("/users",e);return t.data}catch(t){return console.log(t),null}},async sendEmail(e){try{const t=await u.post("/emails/send",e);return!!t.data&&!!t.data.success}catch(t){return console.log(t),!1}},async removeUser(e){try{const t=await u.delete(`/users/${e}`);return t.data}catch(t){return console.log(t),!1}}}});var g,f,w;(function(e){e["ADMIN"]="admin",e["USER"]="user"})(g||(g={})),function(e){e["MONTH"]="month",e["YEAR"]="year"}(f||(f={})),function(e){e["PLAN_1"]="plan1",e["PLAN_2"]="plan2",e["PLAN_3"]="plan3",e["PLAN_4"]="plan4"}(w||(w={}));const h=e=>((0,n.dD)("data-v-4bf540ff"),e=e(),(0,n.Cn)(),e),b={class:"header mx-auto"},x={key:0,class:"mx-auto h-full w-auto",src:"img/logo.png",alt:"Logo"},v={key:0,class:"flex space-x-8"},y=h((()=>(0,n._)("span",{class:"text-lg text-indigo-400"},"Detection",-1))),_=[y],j=h((()=>(0,n._)("span",{class:"text-lg text-indigo-400"},"Activities",-1))),k=[j],N=h((()=>(0,n._)("span",{class:"text-lg text-indigo-400"},"Members",-1))),S=[N],z=h((()=>(0,n._)("span",{class:"text-lg text-indigo-400"},"Register",-1))),D=[z],P=h((()=>(0,n._)("span",{class:"text-lg text-indigo-400"},"Settings",-1))),L=[P],q=h((()=>(0,n._)("span",{class:"text-lg text-indigo-400"},"Log out",-1))),U=[q];var C=(0,n.aZ)({__name:"Header",setup(e){const t=p(),s=(0,a.tv)(),i=(0,n.Fl)((()=>t.authorized)),r=(0,n.Fl)((()=>t.user)),l=(0,n.Fl)((()=>t.user?.role===g.ADMIN)),d=()=>{t.logout(),s.push("/login")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(["border-b-2",i.value&&r.value?"border-gray-800":"border-transparent"])},[(0,n._)("div",b,[(0,n._)("div",{class:"h-10 flex items-center cursor-pointer mr-12 md:mr-28",onClick:t[0]||(t[0]=t=>e.$router.push("/detect"))},[i.value&&r.value?((0,n.wg)(),(0,n.iD)("img",x)):(0,n.kq)("",!0)]),i.value&&r.value?((0,n.wg)(),(0,n.iD)("div",v,[(0,n._)("div",{class:(0,o.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("detect")}]),onClick:t[1]||(t[1]=t=>e.$router.push("/detech"))},_,2),(0,n._)("div",{class:(0,o.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("activity")}]),onClick:t[2]||(t[2]=t=>e.$router.push("/activity"))},k,2),l.value?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,o.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("users")}]),onClick:t[3]||(t[3]=t=>e.$router.push("/users"))},S,2)):(0,n.kq)("",!0),l.value?((0,n.wg)(),(0,n.iD)("div",{key:1,class:(0,o.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("register")}]),onClick:t[4]||(t[4]=t=>e.$router.push("/register"))},D,2)):(0,n.kq)("",!0),(0,n._)("div",{class:(0,o.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("profile")}]),onClick:t[5]||(t[5]=t=>e.$router.push("/profile"))},L,2),(0,n._)("div",{class:"flex items-center cursor-pointer border-b-2 border-transparent",onClick:d},U)])):(0,n.kq)("",!0)])],2))}}),R=s(3744);const A=(0,R.Z)(C,[["__scopeId","data-v-4bf540ff"]]);var $=A;const O={class:"h-full"},M={class:"sticky-header pb-4 bg-gray-900"},E={class:""};var I=(0,n.aZ)({__name:"App",setup(e){const t=(0,a.tv)(),s=p(),i=async()=>{const e=localStorage.getItem("_id");if(e&&!s.user){s.isLoading=!0;const i=await s.fetchUser(e);if(s.isLoading=!1,!i)return localStorage.clear(),s.authorized=!1,void t.push("/login");s.user=i}s.authorized||t.currentRoute.value.path.includes("reset-password")?s.authorized&&s.user&&t.currentRoute.value.path.includes("login")&&t.push("/detect"):t.push("/login")};return setTimeout((()=>i()),0),(e,t)=>{const s=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",O,[(0,n._)("div",M,[(0,n.Wm)($)]),(0,n._)("div",E,[(0,n.Wm)(s)])])}}});const F=I;var T=F;const Y=(0,r.WB)();s(6229),s(7330),s(2062);var Z=s(2262),V=s(4105);const H=l.Z.create({baseURL:"https://api.offenderlist.us"});const B=({url:e},t)=>{"start"===t?0:"end"===t&&0};H.interceptors.request.use((e=>{B(e,"start");const t="022971ce-dab5-4e72-8d9c-071e991a3dc6";return t&&(e.headers.Authorization=`Basic ${t}`),e}),(e=>{const{config:t}=e;return B(t,"end"),Promise.reject(e)})),H.interceptors.response.use((e=>(B(e.config,"end"),e)),(e=>{const{config:t}=e;return B(t,"end"),Promise.reject(e)}));var K=H;const W=()=>({}),X=(0,r.Q_)({id:"offenderList",state:()=>W(),actions:{async getOffenders(e,t,s,i,n){try{const a=await K.get(`/offenders?dob=${s}&first_name=${e}&last_name=${t}&state=${i}&zip_code=${n}`);return a.data}catch(a){return console.log(a),[]}}}});var G=s(3002),Q=s(2956);const J=e=>{let t="";for(let s=0;s<e.length;s++){const i=e[s];let n="";for(const e in i)""!==n&&(n+=","),n+=i[e];t+=n+"\r\n"}return t},ee="info@offenderlist.us",te=[{id:w.PLAN_1,requests:500,frequency:f.YEAR},{id:w.PLAN_2,requests:1e5,frequency:f.YEAR},{id:w.PLAN_3,requests:5e4,frequency:f.MONTH},{id:w.PLAN_4,requests:1e5,frequency:f.MONTH}],se=e=>!(!e[0]||!e[1])&&!!(e[2]||e[3]||e[4]),ie=e=>((0,n.dD)("data-v-b1871906"),e=e(),(0,n.Cn)(),e),ne={class:"dashboard mx-auto m-4"},ae={class:"my-32"},oe=ie((()=>(0,n._)("h2",{class:"text-center font-bold text-white text-2xl"},"Find Offender",-1))),re={class:"mt-8 text-center text-lg text-white font-thin"},le={class:"mt-4 mx-auto max-w-2xl"},de=ie((()=>(0,n._)("label",{for:"cover-photo",class:"block text-sm font-medium leading-6 text-gray-900"},"Cover photo",-1))),ce={key:0,class:"text-center"},ue={class:"my-4 flex leading-6 text-gray-600"},me={for:"file-upload",class:"relative w-full cursor-pointer rounded-md text-indigo-600 hover:text-indigo-500"},pe=ie((()=>(0,n._)("p",{class:"text-lg"},"Upload a file",-1))),ge=ie((()=>(0,n._)("p",{class:"text-sm leading-5 text-gray-600 ml-2"},"or Drag and Drop (XLSX or CSV)",-1))),fe=ie((()=>(0,n._)("a",{class:"text-xs text-indigo-600 hover:text-indigo-500 cursor-pointer",href:"Input- example.xlsx"}," Download template ",-1))),we={key:1,class:"text-white"},he={key:0,class:"mt-10 flex flex-col items-center"},be={class:"text-white text-sm text-center mb-8"},xe=ie((()=>(0,n._)("p",{class:"mb-4 text-sm text-center text-white"},"Return result as:",-1))),ve={class:"space-y-4 sm:flex sm:items-center sm:space-x-10 sm:space-y-0 mb-8"},ye={class:"flex items-center"},_e=["checked"],je=ie((()=>(0,n._)("label",{for:"xlsx",class:"ml-3 block text-sm font-medium leading-6 text-white"},"XLSX File",-1))),ke={class:"flex items-center"},Ne=["checked"],Se=ie((()=>(0,n._)("label",{for:"csv",class:"ml-3 block text-sm font-medium leading-6 text-white"},"CSV File",-1))),ze={key:1,style:{"border-top-color":"transparent"},class:"w-5 h-5 mt-3 border-4 mx-auto border-blue-400 border-solid rounded-full animate-spin"};var De=(0,n.aZ)({__name:"Home",setup(e){const t=p(),s=X(),r=(0,a.tv)(),l=(0,G.pm)(),d=(0,Z.qj)({fileName:null,header:[],list:[],isLoading:!1,downloadFile:"xlsx"});(0,n.bv)((()=>{t.authorized||r.push("/login")})),(0,n.YP)((()=>t.isLoading),(()=>{t.isLoading||t.authorized&&t.user||r.push("/login")}));const c=(0,n.Fl)((()=>t.user?`Your account has ${t.user.availableRequests} rows available for processing.`:"")),u=e=>{const t=e.split(/\r\n|\n/),s=[];for(let i=0;i<t.length;i++){const e=t[i].split(/,(?![^"]*"(?:(?:[^"]*"){2})*[^"]*$)/);let n=[];for(let t=0;t<e.length;t++){let s=e[t];s.length>0&&('"'==s[0]&&(s=s.substring(1,s.length-1)),'"'==s[s.length-1]&&(s=s.substring(s.length-2,0)),s=s.replaceAll('""','"')),n.push(s)}Object.values(n).filter((e=>e)).length>0&&(0===i?(n.push("Match"),n.push("Details"),d.header=n):s.push(n))}d.list=s},m=async e=>{const t=e.target.files[0];if(!t)return;d.fileName=t.name;const s=t.name.split("."),i=s.pop()?.toLowerCase();if(!i||"xlsx"!==i&&"csv"!==i)return void l.error("Invalid file format. Must be xlsx file.");const n=new FileReader;n.onload=e=>{if("xlsx"===i){const t=e.target.result,s=V.ij(t,{type:"binary"}),i=s.SheetNames[0],n=s.Sheets[i],a=V.P6.sheet_to_csv(n);u(a)}else{const t=e.target.result;u(t)}},n.readAsBinaryString(t)},g=()=>{d.fileName=null,d.header=[],d.list=[],d.isLoading=!1},f=e=>{e.preventDefault()},w=e=>{e.preventDefault()},h=e=>{if(e.preventDefault(),!e||!e.dataTransfer)return;const t=e.dataTransfer.files;if(!t.length)return;const s=t[0];d.fileName=s.name;const i=s.name.split("."),n=i.pop()?.toLowerCase();if(!n||"xlsx"!==n&&"csv"!==n)return void l.error("Invalid file format. Must be xlsx file.");const a=new FileReader;a.onload=e=>{if("xlsx"===n){const t=e.target.result,s=V.ij(t,{type:"binary"}),i=s.SheetNames[0],n=s.Sheets[i],a=V.P6.sheet_to_csv(n);u(a)}else{const t=e.target.result;u(t)}},a.readAsBinaryString(s)},b=()=>{const e=V.P6.book_new();e.Props={Title:"Offender Detection",Subject:"Offender",Author:"OffenderList",CreatedDate:new Date},e.SheetNames.push("Sheet1");const t=[d.header,...d.list],s=V.P6.aoa_to_sheet(t);e.Sheets["Sheet1"]=s;const i={bookType:"xlsx",bookSST:!1,type:"array"},n=V.cW(e,i),a=new Blob([n],{type:"application/octet-stream"}),o=document.createElement("a");o.href=window.URL.createObjectURL(a);const r=(new Date).toISOString();o.download=`Result-${r}.xlsx`,o.click()},x=()=>{const e=J([d.header,...d.list]),t=new Blob([e],{type:"text/csv"}),s=document.createElement("a");s.href=URL.createObjectURL(t);const i=(new Date).toISOString();s.download=`Result-${i}.csv`,s.click()},v=async()=>{if(!t.user)return;let e=Math.min(t.user.availableRequests,d.list.length);if(e<1)return l.info("No available rows. please update your plan."),void g();try{d.isLoading=!0;const i=d.list.slice(0,e),n=[],a=[];for(let e=0;e<i.length;e++){const t=i[e];if(!se(t)){a.push(e);continue}let o="";if(t[2]){const e=t[2]?.split("/");o=`${e[2]}-${e[0]}-${e[1]}`}n.push(s.getOffenders(t[0],t[1],o,t[3],t[4]))}const o=await Promise.all(n),r=[];let c=0;for(let e=0;e<i.length;e++){const t=[...i[e]];if(a.includes(e))t[5]="Incomplete",t[6]="",c+=1;else if(o[e-c]?.length){t[5]=`${o[e-c].length} Potential Matches`;for(let s=0;s<o[e-c].length;s++){const i=o[e-c][s].image;t[6+s]=`${i}, ${JSON.stringify(o[e-c][s])}`}}else t[5]="No Match",t[6]="";r.push(t)}d.list=r,d.isLoading=!1,"xlsx"===d.downloadFile?b():x(),g();const u={requests:e};await t.updateUserRequests(t.user._id,u),l.success("Detection finished successfully!")}catch(i){console.log(i),l.error("Something went wrong. please try again later")}};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",ne,[(0,n._)("div",ae,[oe,(0,n._)("p",re,(0,o.zw)(c.value),1),(0,n._)("div",le,[de,(0,n._)("div",{class:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10",onDragover:f,onDragleave:w,onDrop:h},[d.fileName?((0,n.wg)(),(0,n.iD)("div",we,(0,o.zw)(d.fileName),1)):((0,n.wg)(),(0,n.iD)("div",ce,[(0,n.Wm)((0,Z.SU)(Q.Z),{class:"mx-auto h-12 w-12 text-gray-300","aria-hidden":"true"}),(0,n._)("div",ue,[(0,n._)("label",me,[pe,ge,(0,n._)("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",accept:"xlsx,csv",onChange:m},null,32)])]),fe]))],32),d.fileName&&d.list.length?((0,n.wg)(),(0,n.iD)("div",he,[d.isLoading?((0,n.wg)(),(0,n.iD)("div",ze)):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n._)("p",be," You are about to process "+(0,o.zw)(d.list.length)+" rows. ",1),xe,(0,n._)("div",ve,[(0,n._)("div",ye,[(0,n.wy)((0,n._)("input",{id:"xlsx",name:"result-format",value:"xlsx",type:"radio","onUpdate:modelValue":t[0]||(t[0]=e=>d.downloadFile=e),checked:"xlsx"===d.downloadFile,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,_e),[[i.G2,d.downloadFile]]),je]),(0,n._)("div",ke,[(0,n.wy)((0,n._)("input",{id:"csv",name:"result-format",value:"csv","onUpdate:modelValue":t[1]||(t[1]=e=>d.downloadFile=e),type:"radio",checked:"csv"===d.downloadFile,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,Ne),[[i.G2,d.downloadFile]]),Se])]),(0,n._)("div",{class:"flex space-x-4"},[(0,n._)("button",{type:"button",class:"rounded bg-indigo-500 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",onClick:v}," Start Processing "),(0,n._)("button",{type:"button",class:"w-32 rounded bg-white bg-opacity-10 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-white/20",onClick:g}," Cancel ")])],64))])):(0,n.kq)("",!0)])])]))}});const Pe=(0,R.Z)(De,[["__scopeId","data-v-b1871906"]]);var Le=Pe;const qe={class:"flex flex-1 flex-col justify-center px-6 py-20"},Ue=(0,n._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,n._)("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"},"Register a new user")],-1),Ce={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},Re=["onSubmit"],Ae=(0,n._)("label",{for:"userName",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),$e={class:"mt-2"},Oe=(0,n._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"Email",-1),Me={class:"mt-2"},Ee=(0,n._)("div",{class:""},[(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password")],-1),Ie={class:"mt-2"},Fe=(0,n._)("label",{for:"role",class:"block text-sm font-medium leading-6 text-white"},"Role",-1),Te=["value"],Ye=["value"],Ze=(0,n._)("label",{for:"plan",class:"block text-sm font-medium leading-6 text-white"},"Plan",-1),Ve=["value"],He=["disabled"];var Be=(0,n.aZ)({__name:"Signup",setup(e){const t=p(),s=(0,a.tv)(),r=(0,G.pm)();(0,n.bv)((()=>{t.authorized||s.push("/login")})),(0,n.YP)((()=>t.isLoading),(()=>{t.isLoading||t.authorized&&t.user?t.isLoading||t.user?.role===g.ADMIN||s.push("/detect"):s.push("/login")}));const l=(0,Z.qj)({userName:"",email:"",password:"",role:g.USER,plan:te[0].id}),d=(0,n.Fl)((()=>!!(l.userName&&l.email&&l.password))),c=async()=>{const e=te.find((e=>e.id===l.plan));if(!e)return void r.error("Incorrect Plan!");const s={userName:l.userName,email:l.email,password:l.password,role:l.role,plan:l.plan,availableRequests:e.requests},i=await t.register(s);i?(r.success("User added successfully!"),l.userName="",l.password="",l.email=""):r.error("Something went wrong!")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",qe,[Ue,(0,n._)("div",Ce,[(0,n._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(c,["prevent"])},[(0,n._)("div",null,[Ae,(0,n._)("div",$e,[(0,n.wy)((0,n._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>l.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,l.userName]])])]),(0,n._)("div",null,[Oe,(0,n._)("div",Me,[(0,n.wy)((0,n._)("input",{id:"email",name:"email","onUpdate:modelValue":t[1]||(t[1]=e=>l.email=e),type:"email",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,l.email]])])]),(0,n._)("div",null,[Ee,(0,n._)("div",Ie,[(0,n.wy)((0,n._)("input",{id:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=e=>l.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,l.password]])])]),(0,n._)("div",null,[Fe,(0,n.wy)((0,n._)("select",{id:"role",name:"role","onUpdate:modelValue":t[3]||(t[3]=e=>l.role=e),class:"capitalize block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},[(0,n._)("option",{value:(0,Z.SU)(g).USER,class:"capitalize text-black"},(0,o.zw)((0,Z.SU)(g).USER),9,Te),(0,n._)("option",{value:(0,Z.SU)(g).ADMIN,class:"capitalize text-black"},(0,o.zw)((0,Z.SU)(g).ADMIN),9,Ye)],512),[[i.bM,l.role]])]),(0,n._)("div",null,[Ze,(0,n.wy)((0,n._)("select",{id:"plan",name:"plan","onUpdate:modelValue":t[4]||(t[4]=e=>l.plan=e),class:"capitalize block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,Z.SU)(te),(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.id,value:e.id,class:"capitalize text-black"},(0,o.zw)(`${e.id}: ${e.requests} requests per ${e.frequency} `),9,Ve)))),128))],512),[[i.bM,l.plan]])]),(0,n._)("div",null,[(0,n._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!d.value}," Register ",8,He)])],40,Re)])]))}});const Ke=Be;var We=Ke;const Xe={class:"flex flex-1 flex-col justify-center px-6 py-20"},Ge=(0,n._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,n._)("img",{class:"mx-auto h-14 w-auto",src:"img/logo.png",alt:"Logo"})],-1),Qe={class:"mt-20 sm:mx-auto sm:w-full sm:max-w-sm"},Je=["onSubmit"],et=(0,n._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),tt={class:"mt-2"},st={class:"flex items-center justify-between"},it=(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password",-1),nt={class:"mt-2"},at=["disabled"];var ot=(0,n.aZ)({__name:"Login",setup(e){const t=p(),s=(0,a.tv)(),o=(0,G.pm)(),r=(0,Z.qj)({userName:"",password:""});(0,n.YP)((()=>t.isLoading),(()=>{!t.isLoading&&t.authorized&&t.user&&s.push("/detect")}));const l=(0,n.Fl)((()=>!(!r.userName||!r.password))),d=async()=>{const e=await t.login(r.userName,r.password);e?(r.userName="",r.password="",s.push("/")):o.error("Something went wrong!")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",Xe,[Ge,(0,n._)("div",Qe,[(0,n._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(d,["prevent"])},[(0,n._)("div",null,[et,(0,n._)("div",tt,[(0,n.wy)((0,n._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>r.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,r.userName]])])]),(0,n._)("div",null,[(0,n._)("div",st,[it,(0,n._)("div",{class:"text-xs text-indigo-400 hover:text-indigo-300 cursor-pointer",onClick:t[1]||(t[1]=e=>(0,Z.SU)(s).push("/reset-password-email"))}," Forgot password? ")]),(0,n._)("div",nt,[(0,n.wy)((0,n._)("input",{id:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=e=>r.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,r.password]])])]),(0,n._)("div",null,[(0,n._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!l.value}," Sign in ",8,at)])],40,Je)])]))}});const rt=ot;var lt=rt,dt=s(5076),ct=s(829);const ut={class:"w-full max-w-lg py-20"},mt=(0,n._)("div",{class:""},[(0,n._)("h2",{class:"text-2xl font-bold leading-9 tracking-tight text-white text-center"},"Change Your Password")],-1),pt={class:"mt-10"},gt=["onSubmit"],ft=(0,n._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),wt={class:"mt-2"},ht=(0,n._)("div",{class:"flex items-center justify-between"},[(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Current Password")],-1),bt={class:"mt-2"},xt=(0,n._)("div",{class:"flex items-center justify-between"},[(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"New Password")],-1),vt={class:"mt-2"},yt=["disabled"];var _t=(0,n.aZ)({__name:"Account",setup(e){const t=p(),s=(0,G.pm)(),a=(0,Z.qj)({userName:"",password:"",newPassword:""}),o=(0,n.Fl)((()=>!!(a.userName&&a.password&&a.newPassword))),r=async()=>{const e=await t.changePassword(a.userName,a.password,a.newPassword);e?(a.userName="",a.password="",a.newPassword="",s.success("Password is updated successfully!")):s.error("Something went wrong!")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",ut,[mt,(0,n._)("div",pt,[(0,n._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(r,["prevent"])},[(0,n._)("div",null,[ft,(0,n._)("div",wt,[(0,n.wy)((0,n._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>a.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,a.userName]])])]),(0,n._)("div",null,[ht,(0,n._)("div",bt,[(0,n.wy)((0,n._)("input",{id:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,a.password]])])]),(0,n._)("div",null,[xt,(0,n._)("div",vt,[(0,n.wy)((0,n._)("input",{id:"new_password",name:"new_password","onUpdate:modelValue":t[2]||(t[2]=e=>a.newPassword=e),type:"password",autocomplete:"new-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,a.newPassword]])])]),(0,n._)("div",null,[(0,n._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!o.value}," Confirm ",8,yt)])],40,gt)])]))}});const jt=_t;var kt=jt;const Nt={class:"w-full max-w-lg py-20"},St=(0,n._)("div",{class:""},[(0,n._)("h2",{class:"text-2xl font-bold leading-9 tracking-tight text-white text-center"},"Send Email to Admin")],-1),zt={class:"mt-10"},Dt=["onSubmit"],Pt=(0,n._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"Email",-1),Lt={class:"mt-2"},qt=(0,n._)("label",{for:"comment",class:"block text-sm font-medium leading-6 text-white"},"Comment",-1),Ut={class:"mt-2"},Ct=["disabled"];var Rt=(0,n.aZ)({__name:"Support",setup(e){const t=p(),s=(0,G.pm)(),a=(0,Z.qj)({email:"",comment:""}),o=(0,n.Fl)((()=>!(!a.email||!a.comment))),r=async()=>{const e={to:ee,subject:"Support",text:`Hi,\r\n\n A user with email: ${a.email} want your support. \r\n${a.comment}`},i=await t.sendEmail(e);i?(s.success("Email sent successfully!"),a.email="",a.comment=""):s.error("Something went wrong")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",Nt,[St,(0,n._)("div",zt,[(0,n._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(r,["prevent"])},[(0,n._)("div",null,[Pt,(0,n._)("div",Lt,[(0,n.wy)((0,n._)("input",{id:"email",name:"email","onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,a.email]])])]),(0,n._)("div",null,[qt,(0,n._)("div",Ut,[(0,n.wy)((0,n._)("textarea",{id:"comment",name:"comment","onUpdate:modelValue":t[1]||(t[1]=e=>a.comment=e),rows:"4",class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,a.comment]])])]),(0,n._)("div",null,[(0,n._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!o.value}," Send ",8,Ct)])],40,Dt)])]))}});const At=Rt;var $t=At;const Ot=e=>((0,n.dD)("data-v-3b3dca5a"),e=e(),(0,n.Cn)(),e),Mt={class:"dashboard mx-auto mt-12"},Et={class:"sm:hidden"},It=Ot((()=>(0,n._)("label",{for:"tabs",class:"sr-only"},"Select a tab",-1))),Ft={id:"tabs",name:"tabs",class:"block w-full rounded-md border-none bg-white bg-opacity-5 py-2 pl-3 pr-10 text-base text-white shadow-sm ring-1 ring-inset ring-white ring-opacity-10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm"},Tt=["selected"],Yt={class:"hidden sm:block"},Zt={class:"flex border-b border-white border-opacity-10"},Vt={role:"list",class:"flex min-w-full flex-none gap-x-6 text-sm font-semibold leading-6 text-gray-400"},Ht=["onClick"],Bt={class:"flex justify-center"};var Kt=(0,n.aZ)({__name:"Profile",setup(e){const t=p(),s=(0,a.tv)(),i=(0,Z.qj)({tabs:[{name:"My Account",id:"account",icon:dt.Z},{name:"Support",id:"support",icon:ct.Z}],currentTab:"account"});(0,n.bv)((()=>{t.authorized||s.push("/login")})),(0,n.YP)((()=>t.isLoading),(()=>{t.isLoading||t.authorized&&t.user||s.push("/login")}));const r=e=>{i.currentTab=e};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",Mt,[(0,n._)("div",Et,[It,(0,n._)("select",Ft,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.tabs,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.name,selected:e.id===i.currentTab},(0,o.zw)(e.name),9,Tt)))),128))])]),(0,n._)("div",Yt,[(0,n._)("nav",Zt,[(0,n._)("ul",Vt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.tabs,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.id,class:(0,o.C_)([[e.id===i.currentTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","group inline-flex items-center border-b-2 py-4 px-1 text-sm font-medium"],"flex cursor-pointer"]),onClick:t=>r(e.id)},[((0,n.wg)(),(0,n.j4)((0,n.LL)(e.icon),{class:(0,o.C_)([e.id===i.currentTab?"text-indigo-500":"text-gray-400 group-hover:text-gray-500","-ml-0.5 mr-2 h-5 w-5"]),"aria-hidden":"true"},null,8,["class"])),(0,n._)("span",{class:(0,o.C_)(e.id===i.currentTab?"text-indigo-400":"")},(0,o.zw)(e.name),3)],10,Ht)))),128))])])]),(0,n._)("div",Bt,["account"===i.currentTab?((0,n.wg)(),(0,n.j4)(kt,{key:0})):(0,n.kq)("",!0),"support"===i.currentTab?((0,n.wg)(),(0,n.j4)($t,{key:1})):(0,n.kq)("",!0)])]))}});const Wt=(0,R.Z)(Kt,[["__scopeId","data-v-3b3dca5a"]]);var Xt=Wt;const Gt={class:"flex flex-1 flex-col justify-center px-6 py-20"},Qt=(0,n._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,n._)("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"},"Reset your Password")],-1),Jt={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},es=["onSubmit"],ts={key:0},ss=(0,n._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),is={class:"mt-2"},ns=(0,n._)("div",{class:"flex items-center justify-between"},[(0,n._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password")],-1),as={class:"mt-2"},os=["disabled"];var rs=(0,n.aZ)({__name:"ResetPassword",setup(e){const t=p(),s=(0,a.yj)(),o=(0,a.tv)(),r=(0,G.pm)(),l=(0,Z.qj)({userName:"",password:"",fromAdmin:!1});(0,n.bv)((()=>{const e=s.query.un;e&&(l.userName=e,l.fromAdmin=!0)}));const d=(0,n.Fl)((()=>!(!l.userName||!l.password))),c=async()=>{const e=s.params.token;if(!e)return void r.error("Invalid token");const i=await t.resetPassword(l.userName,l.password,e);i?(l.userName="",l.password="",r.success("Your password has been reset!"),o.push("/login")):r.error("Something went wrong!")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",Gt,[Qt,(0,n._)("div",Jt,[(0,n._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(c,["prevent"])},[l.fromAdmin?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",ts,[ss,(0,n._)("div",is,[(0,n.wy)((0,n._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>l.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,l.userName]])])])),(0,n._)("div",null,[ns,(0,n._)("div",as,[(0,n.wy)((0,n._)("input",{id:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,l.password]])])]),(0,n._)("div",null,[(0,n._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!d.value}," Reset ",8,os)])],40,es)])]))}});const ls=rs;var ds=ls;const cs={class:"flex flex-1 flex-col justify-center px-6 py-20"},us=(0,n._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,n._)("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"},"Send Email to Reset your Password ")],-1),ms={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},ps=["onSubmit"],gs=(0,n._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),fs={class:"mt-2"},ws=["disabled"];var hs=(0,n.aZ)({__name:"ResetPasswordEmail",setup(e){const t=p(),s=(0,G.pm)(),a=(0,Z.qj)({userName:"",send:!1,isLoading:!1}),r=(0,n.Fl)((()=>!(!a.userName||a.isLoading))),l=async()=>{a.isLoading=!0;const e=await t.resetPasswordEmail(a.userName);e?(a.send=!0,s.success("Sent email!")):s.error("Something went wrong!"),a.isLoading=!1};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",cs,[us,(0,n._)("div",ms,[(0,n._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(l,["prevent"])},[(0,n._)("div",null,[gs,(0,n._)("div",fs,[(0,n.wy)((0,n._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>a.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,a.userName]])])]),(0,n._)("div",null,[(0,n._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!r.value},(0,o.zw)(a.send?"Resend":"Send Email"),9,ws)])],40,ps)])]))}});const bs=hs;var xs=bs;const vs=e=>((0,n.dD)("data-v-708e0a4c"),e=e(),(0,n.Cn)(),e),ys={class:"bg-gray-900"},_s={class:"mx-auto members"},js={class:"bg-gray-900 py-20"},ks={class:""},Ns=vs((()=>(0,n._)("div",{class:"sm:flex sm:items-center"},[(0,n._)("div",{class:"sm:flex-auto"},[(0,n._)("h1",{class:"text-2xl font-semibold leading-6 text-white"},"Members"),(0,n._)("p",{class:"mt-2 text-sm text-gray-300"},"List of all the users")])],-1))),Ss={class:"mt-8 flow-root"},zs={class:"-my-2 overflow-x-auto"},Ds={class:"inline-block min-w-full py-2 align-middle"},Ps={class:"min-w-full divide-y divide-gray-700"},Ls=vs((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-white sm:pl-0"},"Name"),(0,n._)("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-white sm:pl-0"},"Email"),(0,n._)("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},"Plan"),(0,n._)("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},"Rows Total"),(0,n._)("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},"Rows Remaining"),(0,n._)("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},"Reset Password")])],-1))),qs={class:"divide-y divide-gray-800"},Us={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-white sm:pl-0"},Cs={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-white sm:pl-0"},Rs={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-300 capitalize"},As={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-300"},$s={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-300"},Os=["onClick"];var Ms=(0,n.aZ)({__name:"Users",setup(e){const t=p(),s=(0,a.tv)(),i=(0,G.pm)(),r=(0,Z.iH)([]);(0,n.bv)((async()=>{if(!t.userId)return void s.push("/login");const e=await t.fetchAllUser();console.log(e,t.userId),r.value=e?.filter((e=>e._id!==t.userId))})),(0,n.YP)((()=>t.isLoading),(()=>{t.isLoading||t.authorized&&t.user||s.push("/login"),t.isLoading||t.user?.role===g.ADMIN||s.push("/detect")}));const l=e=>{const t=te.find((t=>t.id===e));return t?`${t.requests} / ${t.frequency}`:0},d=async e=>{const s=await t.resetPasswordEmail(e,!0);s?i.success("Sent email!"):i.error("Something went wrong!")};return(e,t)=>((0,n.wg)(),(0,n.iD)("div",ys,[(0,n._)("div",_s,[(0,n._)("div",js,[(0,n._)("div",ks,[Ns,(0,n._)("div",Ss,[(0,n._)("div",zs,[(0,n._)("div",Ds,[(0,n._)("table",Ps,[Ls,(0,n._)("tbody",qs,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.value,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.email},[(0,n._)("td",Us,(0,o.zw)(e.userName),1),(0,n._)("td",Cs,(0,o.zw)(e.email),1),(0,n._)("td",Rs,(0,o.zw)(e.plan),1),(0,n._)("td",As,(0,o.zw)(l(e.plan)),1),(0,n._)("td",$s,(0,o.zw)(e.availableRequests),1),(0,n._)("td",{class:"whitespace-nowrap px-3 py-4 text-sm text-gray-300 cursor-pointer",onClick:t=>d(e.userName)}," Send Reset Email ",8,Os)])))),128))])])])])])])])])]))}});const Es=(0,R.Z)(Ms,[["__scopeId","data-v-708e0a4c"]]);var Is=Es,Fs=s(381),Ts=s.n(Fs);const Ys=()=>({}),Zs=(0,r.Q_)({id:"activity",state:()=>Ys(),actions:{async fetchActivity(e){try{const t=await u.get(`/activities/${e}`);return t.data}catch(t){return console.log(t),[]}},async createActivity(e){try{const t=await u.post("/activities",e);return t.data}catch(t){return console.log(t),null}}}}),Vs=e=>((0,n.dD)("data-v-3d76dd1c"),e=e(),(0,n.Cn)(),e),Hs={class:"bg-gray-900"},Bs={class:"mx-auto members"},Ks={class:"bg-gray-900 py-20"},Ws={class:""},Xs=Vs((()=>(0,n._)("div",{class:"sm:flex sm:items-center"},[(0,n._)("div",{class:"sm:flex-auto"},[(0,n._)("h1",{class:"text-2xl font-semibold leading-6 text-white"},"Activities"),(0,n._)("p",{class:"mt-2 text-sm text-gray-300"},"List of all upload activities")])],-1))),Gs={class:"mt-8 flow-root"},Qs={class:"-my-2 overflow-x-auto"},Js={class:"inline-block min-w-full py-2 align-middle"},ei={class:"min-w-full divide-y divide-gray-700"},ti=Vs((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-white sm:pl-0"},"Date"),(0,n._)("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},"Rows processed")])],-1))),si={class:"divide-y divide-gray-800"},ii={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-white sm:pl-0"},ni={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-300 capitalize"};var ai=(0,n.aZ)({__name:"Activity",setup(e){const t=p(),s=Zs(),i=(0,a.tv)(),r=(0,Z.iH)([]);return(0,n.bv)((async()=>{t.userId?r.value=await s.fetchActivity(t.userId):i.push("/login")})),(0,n.YP)((()=>t.isLoading),(()=>{t.isLoading||t.authorized&&t.user||i.push("/login")})),(e,t)=>((0,n.wg)(),(0,n.iD)("div",Hs,[(0,n._)("div",Bs,[(0,n._)("div",Ks,[(0,n._)("div",Ws,[Xs,(0,n._)("div",Gs,[(0,n._)("div",Qs,[(0,n._)("div",Js,[(0,n._)("table",ei,[ti,(0,n._)("tbody",si,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.value,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e._id},[(0,n._)("td",ii,(0,o.zw)((0,Z.SU)(Ts())(e.createdAt).format("MM/DD/YYYY, hh:mm:ss")),1),(0,n._)("td",ni,(0,o.zw)(e.processed),1)])))),128))])])])])])])])])]))}});const oi=(0,R.Z)(ai,[["__scopeId","data-v-3d76dd1c"]]);var ri=oi;const li=[{path:"/detect",component:Le},{path:"/login",component:lt},{path:"/register",component:We},{path:"/profile",component:Xt},{path:"/reset-password-email",component:xs},{path:"/reset-password/:token",component:ds},{path:"/users",component:Is},{path:"/activity",component:ri},{path:"/:pathMatch(.*)*",redirect:"/detect"}],di=(0,a.p7)({history:(0,a.PO)(),routes:li});var ci=s(1421);s(343);const ui=(0,i.ri)(T).use(Y).use(di).use((0,ci.Jt)()).use(G.ZP,{position:G.Vr.BOTTOM_RIGHT,closeOnClick:!1});ui.directive("click-outside",{beforeMount(e,t){e.clickOutsideEvent=function(s){e===s.target||e.contains(s.target)||t.value(s,e)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}),ui.mount("#app")}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=e,function(){var e=[];s.O=function(t,i,n,a){if(!i){var o=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],a=e[c][2];for(var r=!0,l=0;l<i.length;l++)(!1&a||o>=a)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(r=!1,a<o&&(o=a));if(r){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[i,n,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,a,o=i[0],r=i[1],l=i[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var c=l(s)}for(t&&t(i);d<o.length;d++)a=o[d],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},i=self["webpackChunkoffender"]=self["webpackChunkoffender"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(773)}));i=s.O(i)})();