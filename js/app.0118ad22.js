(function(){"use strict";var e={3247:function(e,t,s){var i=s(9963),o=(s(7658),s(6252)),n=s(2201),r=s(3577),a=s(6086),l=s(6154);const d=l.Z.create({baseURL:"http://159.203.121.56/api/v1"});const c=({url:e},t)=>{"start"===t?0:"end"===t&&0};d.interceptors.request.use((e=>(c(e,"start"),e)),(e=>{const{config:t}=e;return c(t,"end"),Promise.reject(e)})),d.interceptors.response.use((e=>(c(e.config,"end"),e)),(e=>{const{config:t}=e;return c(t,"end"),Promise.reject(e)}));var u=d;const m=()=>{const e=!!localStorage.getItem("_id");return{user:null,authorized:e}},g=(0,a.Q_)({id:"user",state:()=>m(),actions:{async fetchUser(e){try{const t=await u.get(`/users/${e}`);return t.data}catch(t){return console.log(t),null}},async updateUserRequests(e,t){try{const s=await u.put(`/users/${e}`,t);return s.data&&(this.user=s.data),s.data}catch(s){return console.log(s),null}},async login(e,t){try{const s={userName:e,password:t},i=await u.post("/users/login",s);return i.data&&(this.user=i.data,localStorage.setItem("_id",this.user._id),this.authorized=!0),i.data}catch(s){return console.log(s),null}},logout(){localStorage.clear(),this.user=null,this.authorized=!1},async changePassword(e,t,s){try{const i={userName:e,password:t,newPassword:s},o=await u.patch("/users/changePassword",i);return o.data}catch(i){return console.log(i),null}},async resetPasswordEmail(e){try{const t={userName:e},s=await u.patch("/users/resetPasswordEmail",t);return s.data}catch(t){return console.log(t),null}},async resetPassword(e,t,s){try{const i={userName:e,password:t,token:s},o=await u.patch("/users/resetPassword",i);return o.data}catch(i){return console.log(i),null}},async register(e){try{const t=await u.post("/users",e);return t.data}catch(t){return console.log(t),null}},async sendEmail(e){try{const t=await u.post("/emails/send",e);return!!t.data&&!!t.data.success}catch(t){return console.log(t),!1}}}});var p,w;(function(e){e["BASIC"]="basic",e["PLUS"]="plus"})(p||(p={})),function(e){e["ADMIN"]="admin",e["USER"]="user"}(w||(w={}));const f=50,b=100,h=e=>((0,o.dD)("data-v-1178bc47"),e=e(),(0,o.Cn)(),e),x={class:"header mx-auto"},v={key:0,class:"mx-auto h-full w-auto",src:"img/logo.png",alt:"Logo"},y={class:"flex space-x-8"},_=h((()=>(0,o._)("span",{class:"text-lg text-indigo-400"},"Detection",-1))),k=[_],S=h((()=>(0,o._)("span",{class:"text-lg text-indigo-400"},"Register",-1))),N=[S],U=h((()=>(0,o._)("span",{class:"text-lg text-indigo-400"},"Settings",-1))),P=[U],j=h((()=>(0,o._)("span",{class:"text-lg text-indigo-400"},"Log out",-1))),D=[j];var q=(0,o.aZ)({__name:"Header",setup(e){const t=g(),s=(0,n.tv)(),i=(0,o.Fl)((()=>t.authorized)),a=(0,o.Fl)((()=>t.user?.role===w.ADMIN)),l=()=>{t.logout(),s.push("/login")};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",x,[(0,o._)("div",{class:"h-10 flex items-center cursor-pointer mr-12 md:mr-28",onClick:t[0]||(t[0]=t=>e.$router.push("/detect"))},[i.value?((0,o.wg)(),(0,o.iD)("img",v)):(0,o.kq)("",!0)]),(0,o._)("div",y,[i.value?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,r.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("detect")}]),onClick:t[1]||(t[1]=t=>e.$router.push("/detech"))},k,2)):(0,o.kq)("",!0),i.value&&a.value?((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,r.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("register")}]),onClick:t[2]||(t[2]=t=>e.$router.push("/register"))},N,2)):(0,o.kq)("",!0),i.value?((0,o.wg)(),(0,o.iD)("div",{key:2,class:(0,r.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("profile")}]),onClick:t[3]||(t[3]=t=>e.$router.push("/profile"))},P,2)):(0,o.kq)("",!0),i.value?((0,o.wg)(),(0,o.iD)("div",{key:3,class:"flex items-center cursor-pointer border-b-2 border-transparent",onClick:l},D)):(0,o.kq)("",!0)])])]))}}),C=s(3744);const R=(0,C.Z)(q,[["__scopeId","data-v-1178bc47"]]);var L=R;const O={class:"h-full"},$={class:"sticky-header pb-4 bg-gray-900"},z={class:""};var E=(0,o.aZ)({__name:"App",setup(e){const t=(0,n.tv)(),s=g(),i=async()=>{if(!s.authorized&&!t.currentRoute.value.path.includes("reset-password"))return void t.push("/login");const e=localStorage.getItem("_id");if(e&&!s.user){const i=await s.fetchUser(e);i?s.user=i:(localStorage.clear(),s.authorized=!1,t.push("/login"))}};return setTimeout((()=>i()),0),(e,t)=>{const s=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",O,[(0,o._)("div",$,[(0,o.Wm)(L)]),(0,o._)("div",z,[(0,o.Wm)(s)])])}}});const M=E;var F=M;const I=(0,a.WB)();s(6229),s(7330),s(2062);var A=s(2262),V=s(4105);const Z=l.Z.create({baseURL:"https://api.offenderlist.us"});const T=({url:e},t)=>{"start"===t?0:"end"===t&&0};Z.interceptors.request.use((e=>{T(e,"start");const t="022971ce-dab5-4e72-8d9c-071e991a3dc6";return t&&(e.headers.Authorization=`Basic ${t}`),e}),(e=>{const{config:t}=e;return T(t,"end"),Promise.reject(e)})),Z.interceptors.response.use((e=>(T(e.config,"end"),e)),(e=>{const{config:t}=e;return T(t,"end"),Promise.reject(e)}));var B=Z;const H=()=>({}),Y=(0,a.Q_)({id:"offenderList",state:()=>H(),actions:{async getOffenders(e,t,s,i,o){try{const n=await B.get(`/offenders?dob=${s}&first_name=${e}&last_name=${t}&state=${i}&zip_code=${o}`);return n.data}catch(n){return console.log(n),[]}}}});var W=s(3002),X=s(2956);const G=e=>{let t="";for(let s=0;s<e.length;s++){const i=e[s];let o="";for(const e in i)""!==o&&(o+=","),o+=i[e];t+=o+"\r\n"}return t},J=e=>((0,o.dD)("data-v-546463cb"),e=e(),(0,o.Cn)(),e),K={class:"dashboard mx-auto m-4"},Q={class:"my-32"},ee=J((()=>(0,o._)("h2",{class:"text-center font-bold text-white text-2xl"},"Find Offender",-1))),te={class:"mt-8 text-center text-lg text-white font-thin"},se={class:"mt-4 mx-auto max-w-2xl"},ie=J((()=>(0,o._)("label",{for:"cover-photo",class:"block text-sm font-medium leading-6 text-gray-900"},"Cover photo",-1))),oe={class:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10"},ne={key:0,class:"text-center"},re={class:"mt-4 flex leading-6 text-gray-600"},ae={for:"file-upload",class:"relative cursor-pointer rounded-md text-indigo-600 hover:text-indigo-500"},le=J((()=>(0,o._)("span",{class:"text-lg"},"Upload a file",-1))),de=J((()=>(0,o._)("p",{class:"text-xs leading-5 text-gray-600"},"XLSX",-1))),ce={key:1,class:"text-white"},ue={key:0,class:"mt-10 flex flex-col items-center"},me={class:"text-white text-sm text-center mb-8"},ge=J((()=>(0,o._)("p",{class:"mb-4 text-sm text-center text-white"},"Return result as:",-1))),pe={class:"space-y-4 sm:flex sm:items-center sm:space-x-10 sm:space-y-0 mb-8"},we={class:"flex items-center"},fe=["checked"],be=J((()=>(0,o._)("label",{for:"xlsx",class:"ml-3 block text-sm font-medium leading-6 text-white"},"XLSX File",-1))),he={class:"flex items-center"},xe=["checked"],ve=J((()=>(0,o._)("label",{for:"csv",class:"ml-3 block text-sm font-medium leading-6 text-white"},"CSV File",-1))),ye={key:1,style:{"border-top-color":"transparent"},class:"w-5 h-5 mt-3 border-4 mx-auto border-blue-400 border-solid rounded-full animate-spin"};var _e=(0,o.aZ)({__name:"Home",setup(e){const t=g(),s=Y(),n=(0,W.pm)(),a=(0,A.qj)({fileName:null,header:[],list:[],isLoading:!1,downloadFile:"xlsx"}),l=(0,o.Fl)((()=>t.user?t.user.membership===p.BASIC?`Your account has ${f-t.user.currentRequests} rows available for processing.`:`Your account has ${b-t.user.currentRequests} rows available for processing.`:"")),d=e=>{const t=e.split(/\r\n|\n/),s=[];for(let i=0;i<t.length;i++){const e=t[i].split(/,(?![^"]*"(?:(?:[^"]*"){2})*[^"]*$)/);let o=[];for(let t=0;t<e.length;t++){let s=e[t];s.length>0&&('"'==s[0]&&(s=s.substring(1,s.length-1)),'"'==s[s.length-1]&&(s=s.substring(s.length-2,0)),s=s.replaceAll('""','"')),o.push(s)}Object.values(o).filter((e=>e)).length>0&&(0===i?(o.push("Match"),o.push("Details"),a.header=o):s.push(o))}a.list=s},c=async e=>{const t=e.target.files[0];if(!t)return;a.fileName=t.name;const s=t.name.split("."),i=s.pop()?.toLowerCase();if(!i||"xlsx"!==i)return void n.error("Invalid file format. Must be xlsx file.");const o=new FileReader;o.onload=e=>{const t=e.target.result,s=V.ij(t,{type:"binary"}),i=s.SheetNames[0],o=s.Sheets[i],n=V.P6.sheet_to_csv(o);d(n)},o.readAsBinaryString(t)},u=()=>{a.fileName=null,a.header=[],a.list=[],a.isLoading=!1},m=()=>{const e=V.P6.book_new();e.Props={Title:"Offender Detection",Subject:"Offender",Author:"OffenderList",CreatedDate:new Date},e.SheetNames.push("Sheet1");const t=[a.header,...a.list],s=V.P6.aoa_to_sheet(t);e.Sheets["Sheet1"]=s;const i={bookType:"xlsx",bookSST:!1,type:"array"},o=V.cW(e,i),n=new Blob([o],{type:"application/octet-stream"}),r=document.createElement("a");r.href=window.URL.createObjectURL(n);const l=(new Date).toISOString();r.download=`Result-${l}.xlsx`,r.click()},w=()=>{const e=G([a.header,...a.list]),t=new Blob([e],{type:"text/csv"}),s=document.createElement("a");s.href=URL.createObjectURL(t);const i=(new Date).toISOString();s.download=`Result-${i}.csv`,s.click()},h=async()=>{if(!t.user)return;let e=0;if(e=t.user.membership===p.BASIC?Math.min(f-t.user.currentRequests,a.list.length):Math.min(b-t.user.currentRequests,a.list.length),e<1)return n.info("No available rows. please update your plan."),void u();a.isLoading=!0;const i=a.list.slice(0,e),o=i.map((e=>{const t=e[2]?.split("/"),i=`${t[2]}-${t[0]}-${t[1]}`;return s.getOffenders(e[0],e[1],i,e[3],e[4])})),r=await Promise.all(o),l=[];for(let t=0;t<i.length;t++){const e=[...i[t]];r[t]?.length?(e[5]="Potential Match",e[6]=JSON.stringify(r[t])):(e[5]="No Match",e[6]=""),l.push(e)}a.list=l,a.isLoading=!1,"xlsx"===a.downloadFile?m():w(),u();const d={currentRequests:t.user.currentRequests+e};await t.updateUserRequests(t.user._id,d),n.success("Detection finished successfully!")};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",K,[(0,o._)("div",Q,[ee,(0,o._)("p",te,(0,r.zw)(l.value),1),(0,o._)("div",se,[ie,(0,o._)("div",oe,[a.fileName?((0,o.wg)(),(0,o.iD)("div",ce,(0,r.zw)(a.fileName),1)):((0,o.wg)(),(0,o.iD)("div",ne,[(0,o.Wm)((0,A.SU)(X.Z),{class:"mx-auto h-12 w-12 text-gray-300","aria-hidden":"true"}),(0,o._)("div",re,[(0,o._)("label",ae,[le,(0,o._)("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",accept:"xlsx",onChange:c},null,32)])]),de]))]),a.fileName&&a.list.length?((0,o.wg)(),(0,o.iD)("div",ue,[a.isLoading?((0,o.wg)(),(0,o.iD)("div",ye)):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("p",me," You are about to process "+(0,r.zw)(a.list.length)+" rows. ",1),ge,(0,o._)("div",pe,[(0,o._)("div",we,[(0,o.wy)((0,o._)("input",{id:"xlsx",name:"result-format",value:"xlsx",type:"radio","onUpdate:modelValue":t[0]||(t[0]=e=>a.downloadFile=e),checked:"xlsx"===a.downloadFile,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,fe),[[i.G2,a.downloadFile]]),be]),(0,o._)("div",he,[(0,o.wy)((0,o._)("input",{id:"csv",name:"result-format",value:"csv","onUpdate:modelValue":t[1]||(t[1]=e=>a.downloadFile=e),type:"radio",checked:"csv"===a.downloadFile,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,xe),[[i.G2,a.downloadFile]]),ve])]),(0,o._)("div",{class:"flex space-x-4"},[(0,o._)("button",{type:"button",class:"rounded bg-indigo-500 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",onClick:h}," Start Processing "),(0,o._)("button",{type:"button",class:"w-32 rounded bg-white bg-opacity-10 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-white/20",onClick:u}," Cancel ")])],64))])):(0,o.kq)("",!0)])])]))}});const ke=(0,C.Z)(_e,[["__scopeId","data-v-546463cb"]]);var Se=ke;const Ne={class:"flex flex-1 flex-col justify-center px-6 py-20"},Ue=(0,o._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,o._)("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"},"Register a new user")],-1),Pe={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},je=["onSubmit"],De=(0,o._)("label",{for:"userName",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),qe={class:"mt-2"},Ce=(0,o._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"Email",-1),Re={class:"mt-2"},Le=(0,o._)("div",{class:""},[(0,o._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password")],-1),Oe={class:"mt-2"},$e=(0,o._)("label",{for:"role",class:"block text-sm font-medium leading-6 text-white"},"Role",-1),ze=["value"],Ee=["value"],Me=(0,o._)("label",{for:"membership",class:"block text-sm font-medium leading-6 text-white"},"Membership",-1),Fe=["value"],Ie=["value"],Ae=["disabled"];var Ve=(0,o.aZ)({__name:"Signup",setup(e){const t=g(),s=(0,n.tv)(),a=(0,W.pm)();(0,o.bv)((()=>{t.user?.role!==w.ADMIN&&s.push("/detect")}));const l=(0,A.qj)({userName:"",email:"",password:"",role:w.USER,membership:p.BASIC}),d=(0,o.Fl)((()=>!!(l.userName&&l.email&&l.password))),c=async()=>{const e={userName:l.userName,email:l.email,password:l.password,role:l.role,membership:l.membership},s=await t.register(e);s?(a.success("User added successfully!"),l.userName="",l.password="",l.email=""):a.error("Something went wrong!")};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",Ne,[Ue,(0,o._)("div",Pe,[(0,o._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(c,["prevent"])},[(0,o._)("div",null,[De,(0,o._)("div",qe,[(0,o.wy)((0,o._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>l.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,l.userName]])])]),(0,o._)("div",null,[Ce,(0,o._)("div",Re,[(0,o.wy)((0,o._)("input",{id:"email",name:"email","onUpdate:modelValue":t[1]||(t[1]=e=>l.email=e),type:"email",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,l.email]])])]),(0,o._)("div",null,[Le,(0,o._)("div",Oe,[(0,o.wy)((0,o._)("input",{id:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=e=>l.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,l.password]])])]),(0,o._)("div",null,[$e,(0,o.wy)((0,o._)("select",{id:"role",name:"role","onUpdate:modelValue":t[3]||(t[3]=e=>l.role=e),class:"capitalize block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},[(0,o._)("option",{value:(0,A.SU)(w).USER,class:"capitalize text-black"},(0,r.zw)((0,A.SU)(w).USER),9,ze),(0,o._)("option",{value:(0,A.SU)(w).ADMIN,class:"capitalize text-black"},(0,r.zw)((0,A.SU)(w).ADMIN),9,Ee)],512),[[i.bM,l.role]])]),(0,o._)("div",null,[Me,(0,o.wy)((0,o._)("select",{id:"membership",name:"membership","onUpdate:modelValue":t[4]||(t[4]=e=>l.membership=e),class:"capitalize block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},[(0,o._)("option",{value:(0,A.SU)(p).BASIC,class:"capitalize text-black"},(0,r.zw)((0,A.SU)(p).BASIC),9,Fe),(0,o._)("option",{value:(0,A.SU)(p).PLUS,class:"capitalize text-black"},(0,r.zw)((0,A.SU)(p).PLUS),9,Ie)],512),[[i.bM,l.membership]])]),(0,o._)("div",null,[(0,o._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!d.value}," Register ",8,Ae)])],40,je)])]))}});const Ze=Ve;var Te=Ze;const Be={class:"flex flex-1 flex-col justify-center px-6 py-20"},He=(0,o._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,o._)("img",{class:"mx-auto h-14 w-auto",src:"img/logo.png",alt:"Logo"})],-1),Ye={class:"mt-20 sm:mx-auto sm:w-full sm:max-w-sm"},We=["onSubmit"],Xe=(0,o._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),Ge={class:"mt-2"},Je={class:"flex items-center justify-between"},Ke=(0,o._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password",-1),Qe={class:"mt-2"},et=["disabled"];var tt=(0,o.aZ)({__name:"Login",setup(e){const t=g(),s=(0,n.tv)(),r=(0,W.pm)(),a=(0,A.qj)({userName:"",password:""}),l=(0,o.Fl)((()=>!(!a.userName||!a.password))),d=async()=>{const e=await t.login(a.userName,a.password);e?(a.userName="",a.password="",s.push("/")):r.error("Something went wrong!")};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",Be,[He,(0,o._)("div",Ye,[(0,o._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(d,["prevent"])},[(0,o._)("div",null,[Xe,(0,o._)("div",Ge,[(0,o.wy)((0,o._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>a.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,a.userName]])])]),(0,o._)("div",null,[(0,o._)("div",Je,[Ke,(0,o._)("div",{class:"text-xs text-indigo-400 hover:text-indigo-300 cursor-pointer",onClick:t[1]||(t[1]=e=>(0,A.SU)(s).push("/reset-password-email"))}," Forgot password? ")]),(0,o._)("div",Qe,[(0,o.wy)((0,o._)("input",{id:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=e=>a.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,a.password]])])]),(0,o._)("div",null,[(0,o._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!l.value}," Sign in ",8,et)])],40,We)])]))}});const st=tt;var it=st,ot=s(5076),nt=s(829);const rt={class:"w-full max-w-lg py-20"},at=(0,o._)("div",{class:""},[(0,o._)("h2",{class:"text-2xl font-bold leading-9 tracking-tight text-white"},"Change Your Password")],-1),lt={class:"mt-10"},dt=["onSubmit"],ct=(0,o._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),ut={class:"mt-2"},mt=(0,o._)("div",{class:"flex items-center justify-between"},[(0,o._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Current Password")],-1),gt={class:"mt-2"},pt=(0,o._)("div",{class:"flex items-center justify-between"},[(0,o._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"New Password")],-1),wt={class:"mt-2"},ft=["disabled"];var bt=(0,o.aZ)({__name:"Account",setup(e){const t=g(),s=(0,W.pm)(),n=(0,A.qj)({userName:"",password:"",newPassword:""}),r=(0,o.Fl)((()=>!!(n.userName&&n.password&&n.newPassword))),a=async()=>{const e=await t.changePassword(n.userName,n.password,n.newPassword);e?(n.userName="",n.password="",n.newPassword="",s.success("Password is updated successfully!")):s.error("Something went wrong!")};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",rt,[at,(0,o._)("div",lt,[(0,o._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(a,["prevent"])},[(0,o._)("div",null,[ct,(0,o._)("div",ut,[(0,o.wy)((0,o._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>n.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,n.userName]])])]),(0,o._)("div",null,[mt,(0,o._)("div",gt,[(0,o.wy)((0,o._)("input",{id:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,n.password]])])]),(0,o._)("div",null,[pt,(0,o._)("div",wt,[(0,o.wy)((0,o._)("input",{id:"new_password",name:"new_password","onUpdate:modelValue":t[2]||(t[2]=e=>n.newPassword=e),type:"password",autocomplete:"new-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,n.newPassword]])])]),(0,o._)("div",null,[(0,o._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!r.value}," Confirm ",8,ft)])],40,dt)])]))}});const ht=bt;var xt=ht;const vt={class:"w-full max-w-lg py-20"},yt=(0,o._)("div",{class:""},[(0,o._)("h2",{class:"text-2xl font-bold leading-9 tracking-tight text-white"},"Send Email to Admin")],-1),_t={class:"mt-10"},kt=["onSubmit"],St=(0,o._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"Email",-1),Nt={class:"mt-2"},Ut=(0,o._)("label",{for:"comment",class:"block text-sm font-medium leading-6 text-white"},"Comment",-1),Pt={class:"mt-2"},jt=["disabled"];var Dt=(0,o.aZ)({__name:"Support",setup(e){const t=g(),s=(0,W.pm)(),n=(0,A.qj)({email:"",comment:""}),r=(0,o.Fl)((()=>!(!n.email||!n.comment))),a=async()=>{const e={to:"",subject:"Support",text:`Hi,\r\n\n A user with email: ${n.email} want your support. \r\n${n.comment}`},i=await t.sendEmail(e);i?(s.success("Email sent successfully!"),n.email="",n.comment=""):s.error("Something went wrong")};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",vt,[yt,(0,o._)("div",_t,[(0,o._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(a,["prevent"])},[(0,o._)("div",null,[St,(0,o._)("div",Nt,[(0,o.wy)((0,o._)("input",{id:"email",name:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,n.email]])])]),(0,o._)("div",null,[Ut,(0,o._)("div",Pt,[(0,o.wy)((0,o._)("textarea",{id:"comment",name:"comment","onUpdate:modelValue":t[1]||(t[1]=e=>n.comment=e),rows:"4",class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,n.comment]])])]),(0,o._)("div",null,[(0,o._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!r.value}," Send ",8,jt)])],40,kt)])]))}});const qt=Dt;var Ct=qt;const Rt=e=>((0,o.dD)("data-v-5786d862"),e=e(),(0,o.Cn)(),e),Lt={class:"dashboard mx-auto mt-12"},Ot={class:"sm:hidden"},$t=Rt((()=>(0,o._)("label",{for:"tabs",class:"sr-only"},"Select a tab",-1))),zt={id:"tabs",name:"tabs",class:"block w-full rounded-md border-none bg-white bg-opacity-5 py-2 pl-3 pr-10 text-base text-white shadow-sm ring-1 ring-inset ring-white ring-opacity-10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm"},Et=["selected"],Mt={class:"hidden sm:block"},Ft={class:"flex border-b border-white border-opacity-10"},It={role:"list",class:"flex min-w-full flex-none gap-x-6 text-sm font-semibold leading-6 text-gray-400"},At=["onClick"];var Vt=(0,o.aZ)({__name:"Profile",setup(e){g(),(0,n.tv)(),(0,W.pm)();const t=(0,A.qj)({tabs:[{name:"My Account",id:"account",icon:ot.Z},{name:"Support",id:"support",icon:nt.Z}],currentTab:"account"}),s=e=>{t.currentTab=e};return(e,i)=>((0,o.wg)(),(0,o.iD)("div",Lt,[(0,o._)("div",Ot,[$t,(0,o._)("select",zt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.tabs,(e=>((0,o.wg)(),(0,o.iD)("option",{key:e.name,selected:e.id===t.currentTab},(0,r.zw)(e.name),9,Et)))),128))])]),(0,o._)("div",Mt,[(0,o._)("nav",Ft,[(0,o._)("ul",It,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.tabs,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e.id,class:(0,r.C_)([[e.id===t.currentTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","group inline-flex items-center border-b-2 py-4 px-1 text-sm font-medium"],"flex cursor-pointer"]),onClick:t=>s(e.id)},[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.icon),{class:(0,r.C_)([e.id===t.currentTab?"text-indigo-500":"text-gray-400 group-hover:text-gray-500","-ml-0.5 mr-2 h-5 w-5"]),"aria-hidden":"true"},null,8,["class"])),(0,o._)("span",{class:(0,r.C_)(e.id===t.currentTab?"text-indigo-400":"")},(0,r.zw)(e.name),3)],10,At)))),128))])])]),"account"===t.currentTab?((0,o.wg)(),(0,o.j4)(xt,{key:0})):(0,o.kq)("",!0),"support"===t.currentTab?((0,o.wg)(),(0,o.j4)(Ct,{key:1})):(0,o.kq)("",!0)]))}});const Zt=(0,C.Z)(Vt,[["__scopeId","data-v-5786d862"]]);var Tt=Zt;const Bt={class:"flex flex-1 flex-col justify-center px-6 py-20"},Ht=(0,o._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,o._)("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"},"Reset your Password")],-1),Yt={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},Wt=["onSubmit"],Xt=(0,o._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),Gt={class:"mt-2"},Jt=(0,o._)("div",{class:"flex items-center justify-between"},[(0,o._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password")],-1),Kt={class:"mt-2"},Qt=["disabled"];var es=(0,o.aZ)({__name:"ResetPassword",setup(e){const t=g(),s=(0,n.yj)(),r=(0,W.pm)(),a=(0,A.qj)({userName:"",password:""}),l=(0,o.Fl)((()=>!(!a.userName||!a.password))),d=async()=>{const e=s.params.token;if(!e)return void r.error("Invalid token");const i=await t.resetPassword(a.userName,a.password,e);i?(a.userName="",a.password=""):r.error("Something went wrong!")};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",Bt,[Ht,(0,o._)("div",Yt,[(0,o._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(d,["prevent"])},[(0,o._)("div",null,[Xt,(0,o._)("div",Gt,[(0,o.wy)((0,o._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>a.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,a.userName]])])]),(0,o._)("div",null,[Jt,(0,o._)("div",Kt,[(0,o.wy)((0,o._)("input",{id:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,a.password]])])]),(0,o._)("div",null,[(0,o._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!l.value}," Reset ",8,Qt)])],40,Wt)])]))}});const ts=es;var ss=ts;const is={class:"flex flex-1 flex-col justify-center px-6 py-20"},os=(0,o._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,o._)("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"},"Send Email to Reset your Password ")],-1),ns={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},rs=["onSubmit"],as=(0,o._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),ls={class:"mt-2"},ds=["disabled"];var cs=(0,o.aZ)({__name:"ResetPasswordEmail",setup(e){const t=g(),s=(0,W.pm)(),n=(0,A.qj)({userName:"",send:!1,isLoading:!1}),a=(0,o.Fl)((()=>!(!n.userName||n.isLoading))),l=async()=>{n.isLoading=!0;const e=await t.resetPasswordEmail(n.userName);e?n.send=!0:s.error("Something went wrong!"),n.isLoading=!1};return(e,t)=>((0,o.wg)(),(0,o.iD)("div",is,[os,(0,o._)("div",ns,[(0,o._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(l,["prevent"])},[(0,o._)("div",null,[as,(0,o._)("div",ls,[(0,o.wy)((0,o._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>n.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,n.userName]])])]),(0,o._)("div",null,[(0,o._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!a.value},(0,r.zw)(n.send?"Resend":"Send Email"),9,ds)])],40,rs)])]))}});const us=cs;var ms=us;const gs=[{path:"/detect",component:Se},{path:"/login",component:it},{path:"/register",component:Te},{path:"/profile",component:Tt},{path:"/reset-password-email",component:ms},{path:"/reset-password/:token",component:ss},{path:"/:pathMatch(.*)*",redirect:"/detect"}],ps=(0,n.p7)({history:(0,n.PO)(),routes:gs});var ws=s(1421);s(343);const fs=(0,i.ri)(F).use(I).use(ps).use((0,ws.Jt)()).use(W.ZP,{position:W.Vr.BOTTOM_RIGHT,closeOnClick:!1});fs.directive("click-outside",{beforeMount(e,t){e.clickOutsideEvent=function(s){e===s.target||e.contains(s.target)||t.value(s,e)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}),fs.mount("#app")}},t={};function s(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,i,o,n){if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],o=e[c][1],n=e[c][2];for(var a=!0,l=0;l<i.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(a=!1,n<r&&(r=n));if(a){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,o,n]}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,n,r=i[0],a=i[1],l=i[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(l)var c=l(s)}for(t&&t(i);d<r.length;d++)n=r[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},i=self["webpackChunkoffender"]=self["webpackChunkoffender"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(3247)}));i=s.O(i)})();