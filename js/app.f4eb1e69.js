(function(){var e={6700:function(e,t,s){var i={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":941,"./en-il.js":941,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function a(e){var t=n(e);return s(t)}function n(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id=6700},4056:function(e,t,s){"use strict";var i=s(9963),a=(s(7658),s(6252)),n=s(2201),o=s(3577),r=s(2262),l=s(6086),d=s(6154);const c=d.Z.create({baseURL:"https://batch.offenderlist.us/api/v1"});const u=({url:e},t)=>{"start"===t?0:"end"===t&&0};c.interceptors.request.use((e=>(u(e,"start"),e)),(e=>{const{config:t}=e;return u(t,"end"),Promise.reject(e)})),c.interceptors.response.use((e=>(u(e.config,"end"),e)),(e=>{const{config:t}=e;return u(t,"end"),Promise.reject(e)}));var m=c;const p=()=>{const e=!!localStorage.getItem("_id"),t=localStorage.getItem("_id");return{user:null,userId:t,authorized:e,isLoading:!1}},g=(0,l.Q_)({id:"user",state:()=>p(),actions:{async fetchUser(e){try{const t=await m.get(`/users/${e}`);return t.data}catch(t){return console.log(t),null}},async fetchAllUser(){try{const e=await m.get("/users");return e.data}catch(e){return console.log(e),[]}},async updateUserRequests(e,t){try{const s=await m.put(`/users/${e}`,t);return s.data&&(this.user=s.data),s.data}catch(s){return console.log(s),null}},async login(e,t){try{const s={userName:e,password:t},i=await m.post("/users/login",s);return i.data&&(this.user=i.data,localStorage.setItem("_id",this.user._id),this.authorized=!0),i.data}catch(s){return console.log(s),null}},logout(){localStorage.clear(),this.user=null,this.authorized=!1},async changePassword(e,t,s){try{const i={userName:e,password:t,newPassword:s},a=await m.patch("/users/changePassword",i);return a.data}catch(i){return console.log(i),null}},async resetPasswordEmail(e,t=!1){try{const s={userName:e,isAdmin:t},i=await m.patch("/users/resetPasswordEmail",s);return i.data}catch(s){return console.log(s),null}},async resetPassword(e,t,s){try{const i={userName:e,password:t,token:s},a=await m.patch("/users/resetPassword",i);return a.data}catch(i){return console.log(i),null}},async register(e){try{const t=await m.post("/users",e);return t.data}catch(t){return console.log(t),null}},async sendEmail(e){try{const t=await m.post("/emails/send",e);return!!t.data&&!!t.data.success}catch(t){return console.log(t),!1}},async removeUser(e){try{const t=await m.delete(`/users/${e}`);return t.data}catch(t){return console.log(t),!1}}}});var f,w,h;(function(e){e["ADMIN"]="admin",e["USER"]="user"})(f||(f={})),function(e){e["MONTH"]="month",e["YEAR"]="year"}(w||(w={})),function(e){e["PLAN_1"]="plan1",e["PLAN_2"]="plan2",e["PLAN_3"]="plan3",e["PLAN_4"]="plan4"}(h||(h={}));const b=e=>{let t="";for(let s=0;s<e.length;s++){const i=e[s];let a="";for(const e in i)""!==a&&(a+=","),a+=i[e];t+=a+"\r\n"}return t},x="info@offenderlist.us",v=[{id:h.PLAN_1,requests:500,frequency:w.YEAR},{id:h.PLAN_2,requests:1e5,frequency:w.YEAR},{id:h.PLAN_3,requests:5e4,frequency:w.MONTH},{id:h.PLAN_4,requests:1e5,frequency:w.MONTH}],y=e=>!(!e[0]||!e[1])&&!!(e[2]||e[3]||e[4]),_=["login","reset-password"],j=e=>((0,a.dD)("data-v-3250d1b4"),e=e(),(0,a.Cn)(),e),k={class:"header mx-auto"},N={key:0,class:"mx-auto h-full w-auto",src:"img/logo.png",alt:"Logo"},S={key:0,class:"flex space-x-8"},z=j((()=>(0,a._)("span",{class:"text-lg text-indigo-400"},"Detection",-1))),D=[z],P=j((()=>(0,a._)("span",{class:"text-lg text-indigo-400"},"Activities",-1))),L=[P],q=j((()=>(0,a._)("span",{class:"text-lg text-indigo-400"},"Members",-1))),U=[q],C=j((()=>(0,a._)("span",{class:"text-lg text-indigo-400"},"Register",-1))),R=[C],A=j((()=>(0,a._)("span",{class:"text-lg text-indigo-400"},"Settings",-1))),$=[A],O=j((()=>(0,a._)("span",{class:"text-lg text-indigo-400"},"Log out",-1))),I=[O];var M=(0,a.aZ)({__name:"Header",setup(e){const t=g(),s=(0,n.tv)(),i=(0,r.iH)(!0),l=(0,a.Fl)((()=>s.currentRoute.value.path)),d=(0,a.Fl)((()=>t.authorized)),c=(0,a.Fl)((()=>t.user)),u=(0,a.Fl)((()=>t.user?.role===f.ADMIN));(0,a.YP)((()=>l.value),(()=>{console.log(l.value,i.value);for(const e of _){if(l.value.includes(e)){i.value=!0;break}i.value=!1}}));const m=()=>{t.logout(),s.push("/login")};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)(["border-b-2",!i.value&&d.value&&c.value?"border-gray-800":"border-transparent"])},[(0,a._)("div",k,[(0,a._)("div",{class:"h-10 flex items-center cursor-pointer mr-12 md:mr-28",onClick:t[0]||(t[0]=t=>e.$router.push("/detect"))},[!i.value&&d.value&&c.value?((0,a.wg)(),(0,a.iD)("img",N)):(0,a.kq)("",!0)]),!i.value&&d.value&&c.value?((0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("div",{class:(0,o.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("detect")}]),onClick:t[1]||(t[1]=t=>e.$router.push("/detech"))},D,2),(0,a._)("div",{class:(0,o.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("activity")}]),onClick:t[2]||(t[2]=t=>e.$router.push("/activity"))},L,2),u.value?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,o.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("users")}]),onClick:t[3]||(t[3]=t=>e.$router.push("/users"))},U,2)):(0,a.kq)("",!0),u.value?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,o.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("register")}]),onClick:t[4]||(t[4]=t=>e.$router.push("/register"))},R,2)):(0,a.kq)("",!0),(0,a._)("div",{class:(0,o.C_)(["flex items-center cursor-pointer border-b-2 border-transparent",{"border-purple-700":e.$route.path.includes("profile")}]),onClick:t[5]||(t[5]=t=>e.$router.push("/profile"))},$,2),(0,a._)("div",{class:"flex items-center cursor-pointer border-b-2 border-transparent",onClick:m},I)])):(0,a.kq)("",!0)])],2))}}),E=s(3744);const F=(0,E.Z)(M,[["__scopeId","data-v-3250d1b4"]]);var T=F;const Y={class:"h-full"},Z={class:"sticky-header pb-4 bg-gray-900"},V={class:""};var H=(0,a.aZ)({__name:"App",setup(e){const t=(0,n.tv)(),s=g(),i=async()=>{const e=localStorage.getItem("_id");if(s.authorized=!!e,s.userId=e,e&&!s.user){s.isLoading=!0;const i=await s.fetchUser(e);if(s.isLoading=!1,!i)return localStorage.clear(),s.authorized=!1,void t.push("/login");s.user=i}s.authorized||t.currentRoute.value.path.includes("reset-password")?s.authorized&&s.user&&t.currentRoute.value.path.includes("login")&&t.push("/detect"):t.push("/login")};return setTimeout((()=>i()),0),(e,t)=>{const s=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",Y,[(0,a._)("div",Z,[(0,a.Wm)(T)]),(0,a._)("div",V,[(0,a.Wm)(s)])])}}});const B=H;var K=B;const W=(0,l.WB)();s(6229),s(7330),s(2062);var X=s(4105);const G=d.Z.create({baseURL:"https://api.offenderlist.us"});const Q=({url:e},t)=>{"start"===t?0:"end"===t&&0};G.interceptors.request.use((e=>{Q(e,"start");const t="022971ce-dab5-4e72-8d9c-071e991a3dc6";return t&&(e.headers.Authorization=`Basic ${t}`),e}),(e=>{const{config:t}=e;return Q(t,"end"),Promise.reject(e)})),G.interceptors.response.use((e=>(Q(e.config,"end"),e)),(e=>{const{config:t}=e;return Q(t,"end"),Promise.reject(e)}));var J=G;const ee=()=>({}),te=(0,l.Q_)({id:"offenderList",state:()=>ee(),actions:{async getOffenders(e,t,s,i,a){try{const n=await J.get(`/offenders?dob=${s}&first_name=${e}&last_name=${t}&state=${i}&zip_code=${a}`);return n.data}catch(n){return console.log(n),[]}}}});var se=s(3002),ie=s(2956);const ae=e=>((0,a.dD)("data-v-30f7849b"),e=e(),(0,a.Cn)(),e),ne={class:"dashboard mx-auto m-4"},oe={class:"my-32"},re=ae((()=>(0,a._)("h2",{class:"text-center font-bold text-white text-2xl"},"Find Offender",-1))),le={class:"mt-8 text-center text-lg text-white font-thin"},de={class:"mt-4 mx-auto max-w-2xl"},ce=ae((()=>(0,a._)("label",{for:"cover-photo",class:"block text-sm font-medium leading-6 text-gray-900"},"Cover photo",-1))),ue={key:0,class:"text-center"},me={class:"my-4 flex leading-6 text-gray-600"},pe={for:"file-upload",class:"relative w-full cursor-pointer rounded-md text-indigo-600 hover:text-indigo-500"},ge=ae((()=>(0,a._)("p",{class:"text-lg"},"Upload a file",-1))),fe=ae((()=>(0,a._)("p",{class:"text-sm leading-5 text-gray-600 ml-2"},"or Drag and Drop (XLSX or CSV)",-1))),we=ae((()=>(0,a._)("a",{class:"text-xs text-indigo-600 hover:text-indigo-500 cursor-pointer",href:"Input- example.xlsx"}," Download template ",-1))),he={key:1,class:"text-white"},be={key:0,class:"mt-10 flex flex-col items-center"},xe={class:"text-white text-sm text-center mb-8"},ve=ae((()=>(0,a._)("p",{class:"mb-4 text-sm text-center text-white"},"Return result as:",-1))),ye={class:"space-y-4 sm:flex sm:items-center sm:space-x-10 sm:space-y-0 mb-8"},_e={class:"flex items-center"},je=["checked"],ke=ae((()=>(0,a._)("label",{for:"xlsx",class:"ml-3 block text-sm font-medium leading-6 text-white"},"XLSX File",-1))),Ne={class:"flex items-center"},Se=["checked"],ze=ae((()=>(0,a._)("label",{for:"csv",class:"ml-3 block text-sm font-medium leading-6 text-white"},"CSV File",-1))),De={key:1,style:{"border-top-color":"transparent"},class:"w-5 h-5 mt-3 border-4 mx-auto border-blue-400 border-solid rounded-full animate-spin"};var Pe=(0,a.aZ)({__name:"Home",setup(e){const t=g(),s=te(),l=(0,n.tv)(),d=(0,se.pm)(),c=(0,r.qj)({fileName:null,header:[],list:[],isLoading:!1,downloadFile:"xlsx"});(0,a.bv)((()=>{const e=localStorage.getItem("_id");t.authorized=!!e,t.userId=e,t.authorized||l.push("/login")})),(0,a.YP)((()=>t.isLoading),(()=>{t.isLoading||t.authorized&&t.user||l.push("/login")}));const u=(0,a.Fl)((()=>t.user?`Your account has ${t.user.availableRequests} rows available for processing.`:"")),m=e=>{const t=e.split(/\r\n|\n/),s=[];for(let i=0;i<t.length;i++){const e=t[i].split(/,(?![^"]*"(?:(?:[^"]*"){2})*[^"]*$)/);let a=[];for(let t=0;t<e.length;t++){let s=e[t];s.length>0&&('"'==s[0]&&(s=s.substring(1,s.length-1)),'"'==s[s.length-1]&&(s=s.substring(s.length-2,0)),s=s.replaceAll('""','"')),a.push(s)}Object.values(a).filter((e=>e)).length>0&&(0===i?(a.push("Match"),a.push("Details"),c.header=a):s.push(a))}c.list=s},p=async e=>{const t=e.target.files[0];if(!t)return;c.fileName=t.name;const s=t.name.split("."),i=s.pop()?.toLowerCase();if(!i||"xlsx"!==i&&"csv"!==i)return void d.error("Invalid file format. Must be xlsx file.");const a=new FileReader;a.onload=e=>{if("xlsx"===i){const t=e.target.result,s=X.ij(t,{type:"binary"}),i=s.SheetNames[0],a=s.Sheets[i],n=X.P6.sheet_to_csv(a);m(n)}else{const t=e.target.result;m(t)}},a.readAsBinaryString(t)},f=()=>{c.fileName=null,c.header=[],c.list=[],c.isLoading=!1},w=e=>{e.preventDefault()},h=e=>{e.preventDefault()},x=e=>{if(e.preventDefault(),!e||!e.dataTransfer)return;const t=e.dataTransfer.files;if(!t.length)return;const s=t[0];c.fileName=s.name;const i=s.name.split("."),a=i.pop()?.toLowerCase();if(!a||"xlsx"!==a&&"csv"!==a)return void d.error("Invalid file format. Must be xlsx file.");const n=new FileReader;n.onload=e=>{if("xlsx"===a){const t=e.target.result,s=X.ij(t,{type:"binary"}),i=s.SheetNames[0],a=s.Sheets[i],n=X.P6.sheet_to_csv(a);m(n)}else{const t=e.target.result;m(t)}},n.readAsBinaryString(s)},v=()=>{const e=X.P6.book_new();e.Props={Title:"Offender Detection",Subject:"Offender",Author:"OffenderList",CreatedDate:new Date},e.SheetNames.push("Sheet1");const t=[c.header,...c.list],s=X.P6.aoa_to_sheet(t);e.Sheets["Sheet1"]=s;const i={bookType:"xlsx",bookSST:!1,type:"array"},a=X.cW(e,i),n=new Blob([a],{type:"application/octet-stream"}),o=document.createElement("a");o.href=window.URL.createObjectURL(n);const r=(new Date).toISOString();o.download=`Result-${r}.xlsx`,o.click()},_=()=>{const e=b([c.header,...c.list]),t=new Blob([e],{type:"text/csv"}),s=document.createElement("a");s.href=URL.createObjectURL(t);const i=(new Date).toISOString();s.download=`Result-${i}.csv`,s.click()},j=async()=>{if(!t.user)return;let e=Math.min(t.user.availableRequests,c.list.length);if(e<1)return d.info("No available rows. please update your plan."),void f();try{c.isLoading=!0;const i=c.list.slice(0,e),a=[],n=[];for(let e=0;e<i.length;e++){const t=i[e];if(!y(t)){n.push(e);continue}let o="";if(t[2]){const e=t[2]?.split("/");o=`${e[2]}-${e[0]}-${e[1]}`}a.push(s.getOffenders(t[0],t[1],o,t[3],t[4]))}const o=await Promise.all(a),r=[];let l=0;for(let e=0;e<i.length;e++){const t=[...i[e]];if(n.includes(e))t[5]="Incomplete",t[6]="",l+=1;else if(o[e-l]?.length){t[5]=`${o[e-l].length} Potential Matches`;for(let s=0;s<o[e-l].length;s++){const i=o[e-l][s].image;t[6+s]=`${i}, ${JSON.stringify(o[e-l][s])}`}}else t[5]="No Match",t[6]="";r.push(t)}c.list=r,c.isLoading=!1,"xlsx"===c.downloadFile?v():_(),f();const u={requests:e};await t.updateUserRequests(t.user._id,u),d.success("Detection finished successfully!")}catch(i){console.log(i),d.error("Something went wrong. please try again later")}};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",ne,[(0,a._)("div",oe,[re,(0,a._)("p",le,(0,o.zw)(u.value),1),(0,a._)("div",de,[ce,(0,a._)("div",{class:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10",onDragover:w,onDragleave:h,onDrop:x},[c.fileName?((0,a.wg)(),(0,a.iD)("div",he,(0,o.zw)(c.fileName),1)):((0,a.wg)(),(0,a.iD)("div",ue,[(0,a.Wm)((0,r.SU)(ie.Z),{class:"mx-auto h-12 w-12 text-gray-300","aria-hidden":"true"}),(0,a._)("div",me,[(0,a._)("label",pe,[ge,fe,(0,a._)("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",accept:"xlsx,csv",onChange:p},null,32)])]),we]))],32),c.fileName&&c.list.length?((0,a.wg)(),(0,a.iD)("div",be,[c.isLoading?((0,a.wg)(),(0,a.iD)("div",De)):((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("p",xe," You are about to process "+(0,o.zw)(c.list.length)+" rows. ",1),ve,(0,a._)("div",ye,[(0,a._)("div",_e,[(0,a.wy)((0,a._)("input",{id:"xlsx",name:"result-format",value:"xlsx",type:"radio","onUpdate:modelValue":t[0]||(t[0]=e=>c.downloadFile=e),checked:"xlsx"===c.downloadFile,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,je),[[i.G2,c.downloadFile]]),ke]),(0,a._)("div",Ne,[(0,a.wy)((0,a._)("input",{id:"csv",name:"result-format",value:"csv","onUpdate:modelValue":t[1]||(t[1]=e=>c.downloadFile=e),type:"radio",checked:"csv"===c.downloadFile,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,Se),[[i.G2,c.downloadFile]]),ze])]),(0,a._)("div",{class:"flex space-x-4"},[(0,a._)("button",{type:"button",class:"rounded bg-indigo-500 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500",onClick:j}," Start Processing "),(0,a._)("button",{type:"button",class:"w-32 rounded bg-white bg-opacity-10 px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-white/20",onClick:f}," Cancel ")])],64))])):(0,a.kq)("",!0)])])]))}});const Le=(0,E.Z)(Pe,[["__scopeId","data-v-30f7849b"]]);var qe=Le;const Ue={class:"flex flex-1 flex-col justify-center px-6 py-20"},Ce=(0,a._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,a._)("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"},"Register a new user")],-1),Re={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},Ae=["onSubmit"],$e=(0,a._)("label",{for:"userName",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),Oe={class:"mt-2"},Ie=(0,a._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"Email",-1),Me={class:"mt-2"},Ee=(0,a._)("div",{class:""},[(0,a._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password")],-1),Fe={class:"mt-2"},Te=(0,a._)("label",{for:"role",class:"block text-sm font-medium leading-6 text-white"},"Role",-1),Ye=["value"],Ze=["value"],Ve=(0,a._)("label",{for:"plan",class:"block text-sm font-medium leading-6 text-white"},"Plan",-1),He=["value"],Be=["disabled"];var Ke=(0,a.aZ)({__name:"Signup",setup(e){const t=g(),s=(0,n.tv)(),l=(0,se.pm)();(0,a.bv)((()=>{t.authorized||s.push("/login")})),(0,a.YP)((()=>t.isLoading),(()=>{t.isLoading||t.authorized&&t.user?t.isLoading||t.user?.role===f.ADMIN||s.push("/detect"):s.push("/login")}));const d=(0,r.qj)({userName:"",email:"",password:"",role:f.USER,plan:v[0].id}),c=(0,a.Fl)((()=>!!(d.userName&&d.email&&d.password))),u=async()=>{const e=v.find((e=>e.id===d.plan));if(!e)return void l.error("Incorrect Plan!");const s={userName:d.userName,email:d.email,password:d.password,role:d.role,plan:d.plan,availableRequests:e.requests},i=await t.register(s);i?(l.success("User added successfully!"),d.userName="",d.password="",d.email=""):l.error("Something went wrong!")};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",Ue,[Ce,(0,a._)("div",Re,[(0,a._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(u,["prevent"])},[(0,a._)("div",null,[$e,(0,a._)("div",Oe,[(0,a.wy)((0,a._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>d.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,d.userName]])])]),(0,a._)("div",null,[Ie,(0,a._)("div",Me,[(0,a.wy)((0,a._)("input",{id:"email",name:"email","onUpdate:modelValue":t[1]||(t[1]=e=>d.email=e),type:"email",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,d.email]])])]),(0,a._)("div",null,[Ee,(0,a._)("div",Fe,[(0,a.wy)((0,a._)("input",{id:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=e=>d.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,d.password]])])]),(0,a._)("div",null,[Te,(0,a.wy)((0,a._)("select",{id:"role",name:"role","onUpdate:modelValue":t[3]||(t[3]=e=>d.role=e),class:"capitalize block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},[(0,a._)("option",{value:(0,r.SU)(f).USER,class:"capitalize text-black"},(0,o.zw)((0,r.SU)(f).USER),9,Ye),(0,a._)("option",{value:(0,r.SU)(f).ADMIN,class:"capitalize text-black"},(0,o.zw)((0,r.SU)(f).ADMIN),9,Ze)],512),[[i.bM,d.role]])]),(0,a._)("div",null,[Ve,(0,a.wy)((0,a._)("select",{id:"plan",name:"plan","onUpdate:modelValue":t[4]||(t[4]=e=>d.plan=e),class:"capitalize block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,r.SU)(v),(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id,class:"capitalize text-black"},(0,o.zw)(`${e.id}: ${e.requests} requests per ${e.frequency} `),9,He)))),128))],512),[[i.bM,d.plan]])]),(0,a._)("div",null,[(0,a._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!c.value}," Register ",8,Be)])],40,Ae)])]))}});const We=Ke;var Xe=We;const Ge={class:"flex flex-1 flex-col justify-center px-6 py-20"},Qe=(0,a._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,a._)("img",{class:"mx-auto h-14 w-auto",src:"img/logo.png",alt:"Logo"})],-1),Je={class:"mt-20 sm:mx-auto sm:w-full sm:max-w-sm"},et=["onSubmit"],tt=(0,a._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),st={class:"mt-2"},it={class:"flex items-center justify-between"},at=(0,a._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password",-1),nt={class:"mt-2"},ot=["disabled"];var rt=(0,a.aZ)({__name:"Login",setup(e){const t=g(),s=(0,n.tv)(),o=(0,se.pm)(),l=(0,r.qj)({userName:"",password:""});(0,a.YP)((()=>t.isLoading),(()=>{!t.isLoading&&t.authorized&&t.user&&s.push("/detect")}));const d=(0,a.Fl)((()=>!(!l.userName||!l.password))),c=async()=>{const e=await t.login(l.userName,l.password);e?(l.userName="",l.password="",s.push("/")):o.error("Something went wrong!")};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",Ge,[Qe,(0,a._)("div",Je,[(0,a._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(c,["prevent"])},[(0,a._)("div",null,[tt,(0,a._)("div",st,[(0,a.wy)((0,a._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>l.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,l.userName]])])]),(0,a._)("div",null,[(0,a._)("div",it,[at,(0,a._)("div",{class:"text-xs text-indigo-400 hover:text-indigo-300 cursor-pointer",onClick:t[1]||(t[1]=e=>(0,r.SU)(s).push("/reset-password-email"))}," Forgot password? ")]),(0,a._)("div",nt,[(0,a.wy)((0,a._)("input",{id:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=e=>l.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,l.password]])])]),(0,a._)("div",null,[(0,a._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!d.value}," Sign in ",8,ot)])],40,et)])]))}});const lt=rt;var dt=lt,ct=s(5076),ut=s(829);const mt={class:"w-full max-w-lg py-20"},pt=(0,a._)("div",{class:""},[(0,a._)("h2",{class:"text-2xl font-bold leading-9 tracking-tight text-white text-center"},"Change Your Password")],-1),gt={class:"mt-10"},ft=["onSubmit"],wt=(0,a._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),ht={class:"mt-2"},bt=(0,a._)("div",{class:"flex items-center justify-between"},[(0,a._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Current Password")],-1),xt={class:"mt-2"},vt=(0,a._)("div",{class:"flex items-center justify-between"},[(0,a._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"New Password")],-1),yt={class:"mt-2"},_t=["disabled"];var jt=(0,a.aZ)({__name:"Account",setup(e){const t=g(),s=(0,se.pm)(),n=(0,r.qj)({userName:"",password:"",newPassword:""}),o=(0,a.Fl)((()=>!!(n.userName&&n.password&&n.newPassword))),l=async()=>{const e=await t.changePassword(n.userName,n.password,n.newPassword);e?(n.userName="",n.password="",n.newPassword="",s.success("Password is updated successfully!")):s.error("Something went wrong!")};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",mt,[pt,(0,a._)("div",gt,[(0,a._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(l,["prevent"])},[(0,a._)("div",null,[wt,(0,a._)("div",ht,[(0,a.wy)((0,a._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>n.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,n.userName]])])]),(0,a._)("div",null,[bt,(0,a._)("div",xt,[(0,a.wy)((0,a._)("input",{id:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,n.password]])])]),(0,a._)("div",null,[vt,(0,a._)("div",yt,[(0,a.wy)((0,a._)("input",{id:"new_password",name:"new_password","onUpdate:modelValue":t[2]||(t[2]=e=>n.newPassword=e),type:"password",autocomplete:"new-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,n.newPassword]])])]),(0,a._)("div",null,[(0,a._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!o.value}," Confirm ",8,_t)])],40,ft)])]))}});const kt=jt;var Nt=kt;const St={class:"w-full max-w-lg py-20"},zt=(0,a._)("div",{class:""},[(0,a._)("h2",{class:"text-2xl font-bold leading-9 tracking-tight text-white text-center"},"Send Email to Admin")],-1),Dt={class:"mt-10"},Pt=["onSubmit"],Lt=(0,a._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"Email",-1),qt={class:"mt-2"},Ut=(0,a._)("label",{for:"comment",class:"block text-sm font-medium leading-6 text-white"},"Comment",-1),Ct={class:"mt-2"},Rt=["disabled"];var At=(0,a.aZ)({__name:"Support",setup(e){const t=g(),s=(0,se.pm)(),n=(0,r.qj)({email:"",comment:""}),o=(0,a.Fl)((()=>!(!n.email||!n.comment))),l=async()=>{const e={to:x,subject:"Support",text:`Hi,\r\n\n A user with email: ${n.email} want your support. \r\n${n.comment}`},i=await t.sendEmail(e);i?(s.success("Email sent successfully!"),n.email="",n.comment=""):s.error("Something went wrong")};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",St,[zt,(0,a._)("div",Dt,[(0,a._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(l,["prevent"])},[(0,a._)("div",null,[Lt,(0,a._)("div",qt,[(0,a.wy)((0,a._)("input",{id:"email",name:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,n.email]])])]),(0,a._)("div",null,[Ut,(0,a._)("div",Ct,[(0,a.wy)((0,a._)("textarea",{id:"comment",name:"comment","onUpdate:modelValue":t[1]||(t[1]=e=>n.comment=e),rows:"4",class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,n.comment]])])]),(0,a._)("div",null,[(0,a._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!o.value}," Send ",8,Rt)])],40,Pt)])]))}});const $t=At;var Ot=$t;const It=e=>((0,a.dD)("data-v-3b3dca5a"),e=e(),(0,a.Cn)(),e),Mt={class:"dashboard mx-auto mt-12"},Et={class:"sm:hidden"},Ft=It((()=>(0,a._)("label",{for:"tabs",class:"sr-only"},"Select a tab",-1))),Tt={id:"tabs",name:"tabs",class:"block w-full rounded-md border-none bg-white bg-opacity-5 py-2 pl-3 pr-10 text-base text-white shadow-sm ring-1 ring-inset ring-white ring-opacity-10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm"},Yt=["selected"],Zt={class:"hidden sm:block"},Vt={class:"flex border-b border-white border-opacity-10"},Ht={role:"list",class:"flex min-w-full flex-none gap-x-6 text-sm font-semibold leading-6 text-gray-400"},Bt=["onClick"],Kt={class:"flex justify-center"};var Wt=(0,a.aZ)({__name:"Profile",setup(e){const t=g(),s=(0,n.tv)(),i=(0,r.qj)({tabs:[{name:"My Account",id:"account",icon:ct.Z},{name:"Support",id:"support",icon:ut.Z}],currentTab:"account"});(0,a.bv)((()=>{t.authorized||s.push("/login")})),(0,a.YP)((()=>t.isLoading),(()=>{t.isLoading||t.authorized&&t.user||s.push("/login")}));const l=e=>{i.currentTab=e};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",Mt,[(0,a._)("div",Et,[Ft,(0,a._)("select",Tt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.tabs,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.name,selected:e.id===i.currentTab},(0,o.zw)(e.name),9,Yt)))),128))])]),(0,a._)("div",Zt,[(0,a._)("nav",Vt,[(0,a._)("ul",Ht,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.tabs,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id,class:(0,o.C_)([[e.id===i.currentTab?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","group inline-flex items-center border-b-2 py-4 px-1 text-sm font-medium"],"flex cursor-pointer"]),onClick:t=>l(e.id)},[((0,a.wg)(),(0,a.j4)((0,a.LL)(e.icon),{class:(0,o.C_)([e.id===i.currentTab?"text-indigo-500":"text-gray-400 group-hover:text-gray-500","-ml-0.5 mr-2 h-5 w-5"]),"aria-hidden":"true"},null,8,["class"])),(0,a._)("span",{class:(0,o.C_)(e.id===i.currentTab?"text-indigo-400":"")},(0,o.zw)(e.name),3)],10,Bt)))),128))])])]),(0,a._)("div",Kt,["account"===i.currentTab?((0,a.wg)(),(0,a.j4)(Nt,{key:0})):(0,a.kq)("",!0),"support"===i.currentTab?((0,a.wg)(),(0,a.j4)(Ot,{key:1})):(0,a.kq)("",!0)])]))}});const Xt=(0,E.Z)(Wt,[["__scopeId","data-v-3b3dca5a"]]);var Gt=Xt;const Qt={class:"flex flex-1 flex-col justify-center px-6 py-20"},Jt=(0,a._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,a._)("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"},"Reset your Password")],-1),es={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},ts=["onSubmit"],ss={key:0},is=(0,a._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),as={class:"mt-2"},ns=(0,a._)("div",{class:"flex items-center justify-between"},[(0,a._)("label",{for:"password",class:"block text-sm font-medium leading-6 text-white"},"Password")],-1),os={class:"mt-2"},rs=["disabled"];var ls=(0,a.aZ)({__name:"ResetPassword",setup(e){const t=g(),s=(0,n.yj)(),o=(0,n.tv)(),l=(0,se.pm)(),d=(0,r.qj)({userName:"",password:"",fromAdmin:!1});(0,a.bv)((()=>{const e=s.query.un;e&&(d.userName=e,d.fromAdmin=!0)}));const c=(0,a.Fl)((()=>!(!d.userName||!d.password))),u=async()=>{const e=s.params.token;if(!e)return void l.error("Invalid token");const i=await t.resetPassword(d.userName,d.password,e);i?(d.userName="",d.password="",l.success("Your password has been reset!"),o.push("/login")):l.error("Something went wrong!")};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",Qt,[Jt,(0,a._)("div",es,[(0,a._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(u,["prevent"])},[d.fromAdmin?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",ss,[is,(0,a._)("div",as,[(0,a.wy)((0,a._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>d.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,d.userName]])])])),(0,a._)("div",null,[ns,(0,a._)("div",os,[(0,a.wy)((0,a._)("input",{id:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=e=>d.password=e),type:"password",autocomplete:"current-password",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,d.password]])])]),(0,a._)("div",null,[(0,a._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!c.value}," Reset ",8,rs)])],40,ts)])]))}});const ds=ls;var cs=ds;const us={class:"flex flex-1 flex-col justify-center px-6 py-20"},ms=(0,a._)("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[(0,a._)("h2",{class:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-white"},"Send Email to Reset your Password ")],-1),ps={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},gs=["onSubmit"],fs=(0,a._)("label",{for:"email",class:"block text-sm font-medium leading-6 text-white"},"User Name",-1),ws={class:"mt-2"},hs=["disabled"];var bs=(0,a.aZ)({__name:"ResetPasswordEmail",setup(e){const t=g(),s=(0,se.pm)(),n=(0,r.qj)({userName:"",send:!1,isLoading:!1}),l=(0,a.Fl)((()=>!(!n.userName||n.isLoading))),d=async()=>{n.isLoading=!0;const e=await t.resetPasswordEmail(n.userName);e?(n.send=!0,s.success("Sent email!")):s.error("Something went wrong!"),n.isLoading=!1};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",us,[ms,(0,a._)("div",ps,[(0,a._)("form",{class:"space-y-6",onSubmit:(0,i.iM)(d,["prevent"])},[(0,a._)("div",null,[fs,(0,a._)("div",ws,[(0,a.wy)((0,a._)("input",{id:"userName",name:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>n.userName=e),type:"text",required:!0,class:"block w-full rounded-md border-0 bg-white bg-opacity-5 py-1.5 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6"},null,512),[[i.nr,n.userName]])])]),(0,a._)("div",null,[(0,a._)("button",{type:"submit",class:"flex w-full justify-center rounded-md bg-indigo-500 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:opacity-50 mt-10",disabled:!l.value},(0,o.zw)(n.send?"Resend":"Send Email"),9,hs)])],40,gs)])]))}});const xs=bs;var vs=xs;const ys=e=>((0,a.dD)("data-v-708e0a4c"),e=e(),(0,a.Cn)(),e),_s={class:"bg-gray-900"},js={class:"mx-auto members"},ks={class:"bg-gray-900 py-20"},Ns={class:""},Ss=ys((()=>(0,a._)("div",{class:"sm:flex sm:items-center"},[(0,a._)("div",{class:"sm:flex-auto"},[(0,a._)("h1",{class:"text-2xl font-semibold leading-6 text-white"},"Members"),(0,a._)("p",{class:"mt-2 text-sm text-gray-300"},"List of all the users")])],-1))),zs={class:"mt-8 flow-root"},Ds={class:"-my-2 overflow-x-auto"},Ps={class:"inline-block min-w-full py-2 align-middle"},Ls={class:"min-w-full divide-y divide-gray-700"},qs=ys((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-white sm:pl-0"},"Name"),(0,a._)("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-white sm:pl-0"},"Email"),(0,a._)("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},"Plan"),(0,a._)("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},"Rows Total"),(0,a._)("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},"Rows Remaining"),(0,a._)("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},"Reset Password")])],-1))),Us={class:"divide-y divide-gray-800"},Cs={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-white sm:pl-0"},Rs={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-white sm:pl-0"},As={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-300 capitalize"},$s={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-300"},Os={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-300"},Is=["onClick"];var Ms=(0,a.aZ)({__name:"Users",setup(e){const t=g(),s=(0,n.tv)(),i=(0,se.pm)(),l=(0,r.iH)([]);(0,a.bv)((async()=>{if(!t.userId)return void s.push("/login");const e=await t.fetchAllUser();console.log(e,t.userId),l.value=e?.filter((e=>e._id!==t.userId))})),(0,a.YP)((()=>t.isLoading),(()=>{t.isLoading||t.authorized&&t.user||s.push("/login"),t.isLoading||t.user?.role===f.ADMIN||s.push("/detect")}));const d=e=>{const t=v.find((t=>t.id===e));return t?`${t.requests} / ${t.frequency}`:0},c=async e=>{const s=await t.resetPasswordEmail(e,!0);s?i.success("Sent email!"):i.error("Something went wrong!")};return(e,t)=>((0,a.wg)(),(0,a.iD)("div",_s,[(0,a._)("div",js,[(0,a._)("div",ks,[(0,a._)("div",Ns,[Ss,(0,a._)("div",zs,[(0,a._)("div",Ds,[(0,a._)("div",Ps,[(0,a._)("table",Ls,[qs,(0,a._)("tbody",Us,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.value,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.email},[(0,a._)("td",Cs,(0,o.zw)(e.userName),1),(0,a._)("td",Rs,(0,o.zw)(e.email),1),(0,a._)("td",As,(0,o.zw)(e.plan),1),(0,a._)("td",$s,(0,o.zw)(d(e.plan)),1),(0,a._)("td",Os,(0,o.zw)(e.availableRequests),1),(0,a._)("td",{class:"whitespace-nowrap px-3 py-4 text-sm text-gray-300 cursor-pointer",onClick:t=>c(e.userName)}," Send Reset Email ",8,Is)])))),128))])])])])])])])])]))}});const Es=(0,E.Z)(Ms,[["__scopeId","data-v-708e0a4c"]]);var Fs=Es,Ts=s(381),Ys=s.n(Ts);const Zs=()=>({}),Vs=(0,l.Q_)({id:"activity",state:()=>Zs(),actions:{async fetchActivity(e){try{const t=await m.get(`/activities/${e}`);return t.data}catch(t){return console.log(t),[]}},async createActivity(e){try{const t=await m.post("/activities",e);return t.data}catch(t){return console.log(t),null}}}}),Hs=e=>((0,a.dD)("data-v-3d76dd1c"),e=e(),(0,a.Cn)(),e),Bs={class:"bg-gray-900"},Ks={class:"mx-auto members"},Ws={class:"bg-gray-900 py-20"},Xs={class:""},Gs=Hs((()=>(0,a._)("div",{class:"sm:flex sm:items-center"},[(0,a._)("div",{class:"sm:flex-auto"},[(0,a._)("h1",{class:"text-2xl font-semibold leading-6 text-white"},"Activities"),(0,a._)("p",{class:"mt-2 text-sm text-gray-300"},"List of all upload activities")])],-1))),Qs={class:"mt-8 flow-root"},Js={class:"-my-2 overflow-x-auto"},ei={class:"inline-block min-w-full py-2 align-middle"},ti={class:"min-w-full divide-y divide-gray-700"},si=Hs((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-white sm:pl-0"},"Date"),(0,a._)("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},"Rows processed")])],-1))),ii={class:"divide-y divide-gray-800"},ai={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-white sm:pl-0"},ni={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-300 capitalize"};var oi=(0,a.aZ)({__name:"Activity",setup(e){const t=g(),s=Vs(),i=(0,n.tv)(),l=(0,r.iH)([]);return(0,a.bv)((async()=>{t.userId?l.value=await s.fetchActivity(t.userId):i.push("/login")})),(0,a.YP)((()=>t.isLoading),(()=>{t.isLoading||t.authorized&&t.user||i.push("/login")})),(e,t)=>((0,a.wg)(),(0,a.iD)("div",Bs,[(0,a._)("div",Ks,[(0,a._)("div",Ws,[(0,a._)("div",Xs,[Gs,(0,a._)("div",Qs,[(0,a._)("div",Js,[(0,a._)("div",ei,[(0,a._)("table",ti,[si,(0,a._)("tbody",ii,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.value,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e._id},[(0,a._)("td",ai,(0,o.zw)((0,r.SU)(Ys())(e.createdAt).format("MM/DD/YYYY, hh:mm:ss")),1),(0,a._)("td",ni,(0,o.zw)(e.processed),1)])))),128))])])])])])])])])]))}});const ri=(0,E.Z)(oi,[["__scopeId","data-v-3d76dd1c"]]);var li=ri;const di=[{path:"/detect",component:qe},{path:"/login",component:dt},{path:"/register",component:Xe},{path:"/profile",component:Gt},{path:"/reset-password-email",component:vs},{path:"/reset-password/:token",component:cs},{path:"/users",component:Fs},{path:"/activity",component:li},{path:"/:pathMatch(.*)*",redirect:"/detect"}],ci=(0,n.p7)({history:(0,n.PO)(),routes:di});var ui=s(1421);s(343);const mi=(0,i.ri)(K).use(W).use(ci).use((0,ui.Jt)()).use(se.ZP,{position:se.Vr.BOTTOM_RIGHT,closeOnClick:!1});mi.directive("click-outside",{beforeMount(e,t){e.clickOutsideEvent=function(s){e===s.target||e.contains(s.target)||t.value(s,e)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}),mi.mount("#app")}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var n=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,function(){var e=[];s.O=function(t,i,a,n){if(!i){var o=1/0;for(c=0;c<e.length;c++){i=e[c][0],a=e[c][1],n=e[c][2];for(var r=!0,l=0;l<i.length;l++)(!1&n||o>=n)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(r=!1,n<o&&(o=n));if(r){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,a,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,n,o=i[0],r=i[1],l=i[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(l)var c=l(s)}for(t&&t(i);d<o.length;d++)n=o[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},i=self["webpackChunkoffender"]=self["webpackChunkoffender"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(4056)}));i=s.O(i)})();